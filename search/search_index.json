{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Orion-LD API Gateway","text":"<p>A secure API gateway solution for protecting FIWARE Orion-LD context brokers with JWT-based authentication and IP-based access control.</p>"},{"location":"#overview","title":"Overview","text":"<p>The Orion-LD API Gateway provides a robust security layer in front of your FIWARE Orion-LD context broker, ensuring that only authorized clients can interact with your NGSI-LD APIs. Built on OpenResty (Nginx + Lua), it offers high-performance request processing with sophisticated access control mechanisms.</p>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>\ud83d\udd12 JWT Authentication - HS256-based token verification for API access control</li> <li>\ud83c\udf10 IP Whitelisting - Configure trusted IP addresses for unrestricted access</li> <li>\ud83d\udeab Method-Level Restrictions - Fine-grained control over HTTP methods (POST, GET, DELETE, PATCH, PUT)</li> <li>\ud83d\udd04 Reverse Proxy - Seamless proxying to Orion-LD backend</li> <li>\ud83d\udc33 Docker Deployment - Complete stack with MongoDB replica set and Orion-LD</li> <li>\u26a1 High Performance - Built on OpenResty for minimal latency</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"<p>Get started in 3 easy steps:</p> <pre><code># 1. Clone the repository\ngit clone https://github.com/CTU-SematX/Orion-Nginx.git\ncd Orion-Nginx/orion-ld\n\n# 2. Configure environment variables\ncat &gt; .env &lt;&lt; EOF\nJWT_SECRET=your-secret-key-here\nTRUSTED_IP=172.18.0.1\nEOF\n\n# 3. Start the services\nchmod +x start.sh\n./start.sh\n</code></pre> <p>The gateway will be available at <code>http://localhost:8080</code></p>"},{"location":"#architecture","title":"Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Client    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502\n       \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Gateway (Port 8080)\u2502\n\u2502  - IP Check         \u2502\n\u2502  - JWT Verify       \u2502\n\u2502  - Method Control   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502\n       \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Orion-LD (Port 1026)\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502\n       \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  MongoDB Replica Set\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"#access-control","title":"Access Control","text":"<p>The gateway implements a two-tier security model:</p> HTTP Method Trusted IP Non-Trusted IP (JWT) GET \u2705 Allowed \u274c Forbidden POST \u2705 Allowed \u274c Forbidden PATCH \u2705 Allowed \u2705 Allowed PUT \u2705 Allowed \u2705 Allowed DELETE \u2705 Allowed \u274c Forbidden"},{"location":"#trusted-clients","title":"Trusted Clients","text":"<p>Clients originating from the configured <code>TRUSTED_IP</code> have full access to all operations without authentication. This is ideal for internal data ingestion services.</p>"},{"location":"#non-trusted-clients","title":"Non-Trusted Clients","text":"<p>All other clients must provide a valid JWT token and are restricted to PATCH and PUT operations only. This ensures external clients can update data but cannot create or delete entities.</p>"},{"location":"#use-cases","title":"Use Cases","text":""},{"location":"#data-ingestion-pipeline","title":"Data Ingestion Pipeline","text":"<p>Use the trusted IP feature for your internal ETL processes:</p> <pre><code>curl -X POST \"http://localhost:8080/ngsi-ld/v1/entities\" \\\n  -H \"Content-Type: application/ld+json\" \\\n  -d '{\"id\":\"urn:ngsi-ld:Sensor:001\",\"type\":\"Sensor\",\"temperature\":{\"type\":\"Property\",\"value\":23.5}}'\n</code></pre>"},{"location":"#external-api-access","title":"External API Access","text":"<p>Provide controlled access to external partners with JWT tokens:</p> <pre><code>curl -X PATCH \"http://localhost:8080/ngsi-ld/v1/entities/urn:ngsi-ld:Sensor:001/attrs\" \\\n  -H \"Authorization: Bearer $JWT_TOKEN\" \\\n  -H \"Content-Type: application/ld+json\" \\\n  -d '{\"temperature\":{\"type\":\"Property\",\"value\":24.2}}'\n</code></pre>"},{"location":"#documentation","title":"Documentation","text":"<ul> <li>README - Complete project documentation</li> <li>Security - Security policy</li> <li>Contributing - Contribution guidelines</li> <li>Open Source Checklist - Project compliance checklist</li> </ul>"},{"location":"#support","title":"Support","text":"<p>If you encounter issues or have questions:</p> <ul> <li>\ud83d\udccb GitHub Issues - Bug reports and feature requests</li> <li>\ud83d\udd12 Security Policy - Report security vulnerabilities</li> <li>\ud83d\udcac Discussions - Community support</li> </ul>"},{"location":"#license","title":"License","text":"<p>This project is licensed under the Creative Commons Attribution 4.0 International License.</p> <p>For complete installation instructions, usage examples, and configuration options, see the main README.</p>"},{"location":"Open_Source_Checklist/","title":"Open Source Checklist - Orion-LD API Gateway","text":""},{"location":"Open_Source_Checklist/#about","title":"About","text":"<p>This checklist ensures the Orion-LD API Gateway project follows best practices for health, development, and security. It serves as a living document to track our progress and maintain high standards for our open source community.</p> <p>Use this checklist as a discussion starter for the team and a foundation for continuous improvement.</p>"},{"location":"Open_Source_Checklist/#project-status","title":"Project Status","text":"<p>Current compliance status for Orion-LD API Gateway:</p> <ul> <li>\u2705 Documentation complete (README, Architecture, Usage)</li> <li>\u2705 Docker-based deployment ready</li> <li>\u2705 Security features implemented (JWT, IP whitelisting)</li> <li>\u2705 GitHub Actions CI/CD configured</li> <li>\u2705 MkDocs documentation site</li> <li>\ud83d\udd04 OpenSSF Scorecard monitoring enabled</li> <li>\ud83d\udd04 Container security scanning active</li> </ul>"},{"location":"Open_Source_Checklist/#archiving-and-deprecating-a-project","title":"Archiving and Deprecating a Project","text":"<ul> <li>Should use the platform's \"Archival\" function. This way, it becomes read-only, including the issues board, and is flagged as inactive.</li> <li>Should state in the README that the project is no longer maintained.</li> <li>Should be archived if there are no maintainers.</li> </ul>"},{"location":"Open_Source_Checklist/#documentation","title":"Documentation","text":""},{"location":"Open_Source_Checklist/#community-health-files","title":"Community Health Files \u2705","text":"<p>The project includes all standard Community Health Files:</p> <ul> <li>\u2705 README.md - Comprehensive project documentation</li> <li>\u2705 CONTRIBUTING.md - Contribution guidelines</li> <li>\u2705 CODE_OF_CONDUCT.md - Community standards</li> <li>\u2705 SECURITY.md - Security policy</li> <li>\u2705 CHANGELOG.md - Version history</li> <li>\u2705 GOVERNANCE.md - Project governance</li> </ul>"},{"location":"Open_Source_Checklist/#technical-documentation","title":"Technical Documentation \u2705","text":"<ul> <li>\u2705 Installation and Requirements - Docker setup guide</li> <li>\u2705 Quick Start Instructions - 3-step deployment process</li> <li>\u2705 Usage Examples - Both trusted and non-trusted client scenarios</li> <li>\u2705 Architecture Diagram - Visual component flow</li> <li>\u2705 Security Model - Two-tier access control explanation</li> <li>\u2705 Configuration Guide - Environment variables and customization</li> <li>\u2705 Troubleshooting - Common issues and solutions</li> <li>\u2705 Development Guide - For contributors</li> <li>\u2705 MkDocs Site - Published documentation</li> </ul>"},{"location":"Open_Source_Checklist/#legal-and-licensing","title":"Legal and Licensing","text":""},{"location":"Open_Source_Checklist/#license-compliance","title":"License Compliance \u2705","text":"<ul> <li>\u2705 Project licensed under CC-BY-4.0</li> <li>\u2705 No conflicts with third-party licenses (OpenResty, Orion-LD, MongoDB)</li> <li>\u2705 License declarations follow REUSE specification</li> <li>\u2705 All materials have clear copyright information</li> </ul>"},{"location":"Open_Source_Checklist/#third-party-dependencies","title":"Third-Party Dependencies","text":"<ul> <li>OpenResty (BSD License) - Compatible \u2705</li> <li>lua-resty-jwt (Apache 2.0) - Compatible \u2705</li> <li>lua-resty-hmac (MIT) - Compatible \u2705</li> <li>FIWARE Orion-LD (AGPL-3.0) - Separate container, compatible \u2705</li> <li>MongoDB (SSPL) - Separate container, compatible \u2705</li> </ul>"},{"location":"Open_Source_Checklist/#naming-and-trademarks-check","title":"Naming and Trademarks Check","text":"<ul> <li>Should ensure that the project name does not conflict with an existing project or infringe on trademarks.</li> <li>Conduct a general search engine check for the proposed project name.</li> <li>Perform a Trademark Search.</li> </ul> <p>Note: It might be perfectly acceptable to use a name reminiscent of an existing trademark - if the existing trademark is used for other services/areas and is not recognized as a well-known trademark.</p>"},{"location":"Open_Source_Checklist/#people-maintenance","title":"People &amp; Maintenance","text":""},{"location":"Open_Source_Checklist/#maintainer-responsibilities","title":"Maintainer Responsibilities \u2705","text":"<ul> <li>\u2705 Maintainers listed in README</li> <li>\u2705 Security contact designated in SECURITY.md</li> <li>\u2705 Pull request workflow defined in CONTRIBUTING.md</li> <li>\u2705 Community engagement guidelines in place</li> <li>\u2705 Code review process via GitHub Actions</li> </ul>"},{"location":"Open_Source_Checklist/#release-management","title":"Release Management \ud83d\udd04","text":"<ul> <li>\u2705 GitHub Actions workflows for releases configured</li> <li>\u2705 Semantic versioning ready (v..* tags)</li> <li>\u2705 Docker image publishing to ghcr.io</li> <li>\u2705 SLSA provenance attestation enabled</li> <li>\u2705 SBOM generation configured</li> <li>\ud83d\udd04 Need to establish regular release cadence</li> <li>\ud83d\udd04 Consider CODEOWNERS file for component ownership</li> </ul>"},{"location":"Open_Source_Checklist/#project-quality","title":"Project Quality","text":""},{"location":"Open_Source_Checklist/#code-quality","title":"Code Quality \u2705","text":"<ul> <li>\u2705 Initial code review completed</li> <li>\u2705 MegaLinter integration in CI pipeline</li> <li>\u2705 Docker build testing on pull requests</li> <li>\u2705 YAML, Markdown, and Shell script linting</li> </ul>"},{"location":"Open_Source_Checklist/#ease-of-use","title":"Ease of Use \u2705","text":"<ul> <li>\u2705 Docker Compose setup for easy deployment</li> <li>\u2705 Simple <code>start.sh</code> script for quick start</li> <li>\u2705 Comprehensive documentation with examples</li> <li>\u2705 Pre-built container images via GitHub Actions</li> <li>\u2705 cURL examples for common operations</li> <li>\u2705 JWT generation examples in Python and Node.js</li> </ul>"},{"location":"Open_Source_Checklist/#testing-goals","title":"Testing Goals \ud83d\udd04","text":"<p>Current state:</p> <ul> <li>\u2705 Docker build tests</li> <li>\u2705 Docker Compose validation</li> <li>\ud83d\udd04 Need integration tests for JWT verification</li> <li>\ud83d\udd04 Need end-to-end API tests</li> <li>\ud83d\udd04 Consider load testing for production readiness</li> </ul>"},{"location":"Open_Source_Checklist/#release-and-versioning","title":"Release and Versioning","text":""},{"location":"Open_Source_Checklist/#version-strategy","title":"Version Strategy \u2705","text":"<ul> <li>\u2705 Semantic Versioning 2.0.0 implemented</li> <li>\u2705 Git tags for releases (v..*)</li> <li>\u2705 Support for pre-release versions (alpha, beta, rc)</li> <li>\u2705 Automated release workflow via GitHub Actions</li> <li>\u2705 Draft releases for review before publishing</li> <li>\u2705 Container images tagged with version numbers</li> </ul>"},{"location":"Open_Source_Checklist/#release-process","title":"Release Process","text":"<p>Automated via <code>.github/workflows/release-workflow.yml</code>:</p> <ol> <li>Push version tag (e.g., <code>v1.0.0</code>)</li> <li>GitHub Actions builds container</li> <li>Generates SBOM and SLSA provenance</li> <li>Publishes to GitHub Container Registry</li> <li>Creates draft GitHub release with changelog</li> </ol>"},{"location":"Open_Source_Checklist/#security","title":"Security","text":"<p>Based on the OpenSSF guide for secure open source development (2023-06-14) and social engineering takeover alerts.</p>"},{"location":"Open_Source_Checklist/#general-security","title":"General Security \ud83d\udd04","text":"<p>Repository Protection:</p> <ul> <li>\ud83d\udd04 Enable 2FA/MFA for all maintainers</li> <li>\ud83d\udd04 Limit merge and push rights to main branch</li> <li>\ud83d\udd04 Enable branch protection rules</li> <li>\ud83d\udd04 Require signed commits</li> <li>\u2705 OpenSSF Scorecard monitoring enabled</li> </ul> <p>Maintainer Review:</p> <ul> <li>\ud83d\udd04 Establish periodic review of committers and maintainers</li> <li>\u2705 Automated testing in CI pipeline</li> <li>\ud83d\udd04 Need test coverage reporting</li> <li>\ud83d\udd04 Add negative case testing</li> </ul>"},{"location":"Open_Source_Checklist/#contribution-security","title":"Contribution Security \u2705","text":"<ul> <li>\u2705 Code review process defined in CONTRIBUTING.md</li> <li>\u2705 Pull request template with checklist</li> <li>\u2705 MegaLinter runs on all PRs</li> <li>\u2705 Docker build testing before merge</li> <li>\u2705 Clear contribution guidelines</li> <li>\u2705 No binary files in repository (container-based deployment)</li> </ul>"},{"location":"Open_Source_Checklist/#dependencies-and-vulnerability-detection","title":"Dependencies and Vulnerability Detection","text":"<p>Implemented \u2705:</p> <ul> <li>\u2705 Container vulnerability scanning in CI pipeline</li> <li>\u2705 MegaLinter for code quality and security</li> <li>\u2705 YAML, Shell, and Dockerfile linting</li> <li>\u2705 Automated dependency tracking via Dependabot (GitHub)</li> <li>\u2705 Package managers used (Alpine APK, OpenResty OPM)</li> </ul> <p>Dependencies Monitored:</p> <ul> <li>\u2705 OpenResty base image (Alpine-based)</li> <li>\u2705 lua-resty-jwt library</li> <li>\u2705 lua-resty-hmac library</li> <li>\u2705 Orion-LD container (FIWARE official)</li> <li>\u2705 MongoDB container (official)</li> </ul> <p>TODO \ud83d\udd04:</p> <ul> <li>\ud83d\udd04 Enable GitHub secret scanning</li> <li>\ud83d\udd04 Add SAST tools (e.g., Trivy, Grype)</li> <li>\ud83d\udd04 Implement automated security updates</li> <li>\ud83d\udd04 Add dependency health evaluation process</li> </ul>"},{"location":"Open_Source_Checklist/#publishing-and-distribution","title":"Publishing and Distribution \u2705","text":"<p>SBOM and Attestation:</p> <ul> <li>\u2705 SBOM generation enabled in release workflow</li> <li>\u2705 SLSA provenance attestation configured</li> <li>\u2705 Container image scanning before publish</li> <li>\u2705 Multi-platform builds (AMD64, ARM64)</li> </ul> <p>Access Control:</p> <ul> <li>\u2705 Publishing limited to GitHub Actions workflows</li> <li>\u2705 Requires repository permissions for releases</li> <li>\u2705 Published to GitHub Container Registry (ghcr.io)</li> </ul> <p>User Experience:</p> <ul> <li>\u2705 Semantic versioning for clear upgrade paths</li> <li>\u2705 Container tags: <code>latest</code>, <code>v1.0.0</code>, <code>v1.0</code>, <code>v1</code></li> <li>\u2705 Comprehensive upgrade documentation</li> <li>\u2705 Environment variable based configuration (easy updates)</li> <li>\ud83d\udd04 Consider signing releases with GPG/sigstore</li> </ul>"},{"location":"Open_Source_Checklist/#security-policy","title":"Security Policy \u2705","text":"<ul> <li>\u2705 SECURITY.md in place</li> <li>\u2705 Vulnerability reporting process documented</li> <li>\u2705 Security contact information provided</li> <li>\u2705 Response timeline commitments</li> <li>\u2705 Responsible disclosure guidelines</li> </ul>"},{"location":"Open_Source_Checklist/#security-resources","title":"Security Resources","text":"<p>Secure software practices and tooling from OpenSSF and OWASP:</p>"},{"location":"Open_Source_Checklist/#tooling","title":"Tooling","text":"<ul> <li>OpenSSF guide to security tools.</li> <li>OWASP Application Security Tools</li> <li>OpenSSF Scorecards for repository security</li> </ul>"},{"location":"Open_Source_Checklist/#guides","title":"Guides","text":"<ul> <li>OpenSSF's Concise Guide for Evaluating Open Source Software</li> <li>CNCF Security TAG Software Supply Chain Best Practices guide.</li> <li>OWASP Cheatsheets.</li> <li>OWASP Software Developer Guide.</li> <li>Signing artifacts in the supply chain - OpenSSF sigstore project.</li> <li>OWASP Application Security Verification Standard - ASVS.</li> <li>Supply-chain Levels for Software Artifacts - (SLSA).</li> </ul>"},{"location":"Open_Source_Checklist/#github-workflows","title":"GitHub Workflows \u2705","text":""},{"location":"Open_Source_Checklist/#automated-cicd-pipelines","title":"Automated CI/CD Pipelines","text":"<p>Pull Request Workflow:</p> <ul> <li>\u2705 MegaLinter for code quality</li> <li>\u2705 Docker build testing</li> <li>\u2705 Container security scanning</li> <li>\u2705 Automatic on every PR</li> </ul> <p>Release Workflow:</p> <ul> <li>\u2705 Triggered by version tags (v..*)</li> <li>\u2705 Builds multi-platform containers</li> <li>\u2705 Generates SBOM and SLSA provenance</li> <li>\u2705 Publishes to GitHub Container Registry</li> <li>\u2705 Creates draft release with changelog</li> </ul> <p>MkDocs Deployment:</p> <ul> <li>\u2705 Automatic documentation deployment</li> <li>\u2705 Deploys to GitHub Pages</li> <li>\u2705 Triggered on docs changes</li> </ul> <p>OpenSSF Scorecard:</p> <ul> <li>\u2705 Bi-weekly security analysis</li> <li>\u2705 Results published to GitHub Security tab</li> </ul> <p>See CONTRIBUTING for detailed workflow information.</p>"},{"location":"Open_Source_Checklist/#specifications-and-standards-to-follow","title":"Specifications and Standards to Follow","text":"<p>The following will help your Open Source Project to be collaborative, reusable, accessible, and up-to-date.</p> <ul> <li>REUSE License specification</li> <li> <p>Ensures clear and standardized license compliance across the project.</p> </li> <li> <p>Conventional Commits format</p> </li> <li> <p>Provides a clear and structured project history through standardized commit messages.</p> </li> <li> <p>Keep-A-Changelog format</p> </li> <li> <p>Maintains a clear and user-friendly release history.</p> </li> <li> <p>Semantic Versioning 2.0.0</p> </li> <li> <p>Provides consistent version numbering for releases.</p> </li> <li> <p>Contributor Covenant guidelines</p> </li> <li> <p>Establishes a social contract for respectful and inclusive collaboration.</p> </li> <li> <p>OpenSSF Scorecard</p> </li> <li> <p>Helps assess and improve the security health of our project.</p> </li> <li> <p>PublicCode.yml</p> </li> <li> <p>Facilitates easy metadata indexing for better discoverability of our project.</p> </li> <li> <p>Standard for Public Code</p> </li> <li>Ensures the project meets criteria for public code quality and sustainability.</li> </ul>"}]}