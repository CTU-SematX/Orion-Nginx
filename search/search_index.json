{"config":{"lang":["en","vi"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Orion-LD API Gateway","text":"<p>Description: A secure API gateway solution for protecting FIWARE Orion-LD context brokers with JWT-based authentication and IP-based access control. This project provides a proxy layer that ensures only authorized clients can interact with your Orion-LD instance, preventing unauthorized data ingestion and reducing security risks when exposing NGSI-LD APIs to external environments.</p> <p>Key Features:</p> <ul> <li>\ud83d\udd12 JWT-based authentication for API access control</li> <li>\ud83c\udf10 IP whitelisting for trusted clients</li> <li>\ud83d\udeab Method-level access restrictions (POST, GET, DELETE control)</li> <li>\ud83d\udd04 Seamless reverse proxy to Orion-LD</li> <li>\ud83d\udc33 Docker-based deployment with MongoDB replica set</li> <li>\u26a1 Built on OpenResty (Nginx + Lua) for high performance</li> </ul>"},{"location":"#table-of-contents","title":"Table of Contents","text":"<ul> <li>Installation and Requirements</li> <li>Quickstart Instructions</li> <li>Usage</li> <li>Known Issues</li> <li>Support</li> <li>Contributing</li> <li>Development</li> <li>License</li> <li>Maintainers</li> <li>Credits and References</li> </ul>"},{"location":"#installation-and-requirements","title":"Installation and Requirements","text":""},{"location":"#prerequisites","title":"Prerequisites","text":"<ul> <li>Docker Engine 20.10 or higher</li> <li>Docker Compose V2</li> <li>4GB RAM minimum (8GB recommended)</li> <li>Ports 8080, 1026, and 27017 available</li> </ul>"},{"location":"#system-requirements","title":"System Requirements","text":"<p>The gateway consists of three main components:</p> <ol> <li>MongoDB 5.0.26 - Database backend with replica set</li> <li>Orion-LD - FIWARE NGSI-LD context broker</li> <li>Gateway - OpenResty-based proxy with JWT authentication</li> </ol>"},{"location":"#quick-start-instructions","title":"Quick start instructions","text":"<ol> <li>Clone the repository</li> </ol> <pre><code>git clone https://github.com/CTU-SematX/Orion-Nginx.git\ncd Orion-Nginx\n</code></pre> <ol> <li>Set up environment variables</li> </ol> <p>Use the Makefile to create the <code>.env</code> file:</p> <pre><code>make setup\n</code></pre> <p>Then edit the <code>.env</code> file to update the values:</p> <pre><code>JWT_SECRET=your-secret-key-here\nTRUSTED_IP=172.18.0.1\n</code></pre> <p>Replace <code>your-secret-key-here</code> with a strong secret for JWT signing Replace <code>TRUSTED_IP</code> with the IP address of your trusted client</p> <ol> <li>Start the services</li> </ol> <pre><code>make start\n</code></pre> <p>This command will:    - Start MongoDB and initialize the replica set    - Start Orion-LD context broker    - Build and start the gateway proxy</p> <p>The gateway will be available at <code>http://localhost:8080</code></p>"},{"location":"#managing-services","title":"Managing Services","text":"<p>Use these Makefile commands to manage your deployment:</p> <pre><code># View all available commands\nmake help\n\n# Start all services\nmake start\n\n# Stop all services\nmake stop\n\n# Restart all services\nmake restart\n\n# View logs from all services\nmake logs\n\n# Check service status\nmake status\n\n# Remove all data (WARNING: deletes everything)\nmake clean\n</code></pre>"},{"location":"#usage","title":"Usage","text":"<p>The gateway implements a two-tier access control system based on client IP addresses and JWT authentication.</p>"},{"location":"#access-control-rules","title":"Access Control Rules","text":"HTTP Method Trusted IP Non-Trusted IP (with JWT) GET \u2705 Allowed \u274c Forbidden POST \u2705 Allowed \u274c Forbidden PATCH \u2705 Allowed \u2705 Allowed PUT \u2705 Allowed \u2705 Allowed DELETE \u2705 Allowed \u274c Forbidden"},{"location":"#for-trusted-clients","title":"For Trusted Clients","text":"<p>If your request originates from the configured <code>TRUSTED_IP</code>, all operations are allowed without authentication:</p> <pre><code># Create an entity (POST)\ncurl -X POST \"http://localhost:8080/ngsi-ld/v1/entities\" \\\n  -H \"Content-Type: application/ld+json\" \\\n  -d '{\n    \"id\": \"urn:ngsi-ld:WeatherObserved:001\",\n    \"type\": \"WeatherObserved\",\n    \"temperature\": {\n      \"type\": \"Property\",\n      \"value\": 25.0\n    },\n    \"@context\": [\n      \"https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context.jsonld\"\n    ]\n  }'\n\n# Query entities (GET)\ncurl -X GET \"http://localhost:8080/ngsi-ld/v1/entities/urn:ngsi-ld:WeatherObserved:001\"\n\n# Delete an entity (DELETE)\ncurl -X DELETE \"http://localhost:8080/ngsi-ld/v1/entities/urn:ngsi-ld:WeatherObserved:001\"\n</code></pre>"},{"location":"#for-non-trusted-clients","title":"For Non-Trusted Clients","text":"<p>Non-trusted clients must provide a valid JWT token and can only use PATCH and PUT operations:</p> <pre><code># Generate a JWT token (example using a tool or script)\nexport JWT_TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"\n\n# Update entity attributes (PATCH) - Allowed with JWT\ncurl -X PATCH \"http://localhost:8080/ngsi-ld/v1/entities/urn:ngsi-ld:WeatherObserved:001/attrs\" \\\n  -H \"Authorization: Bearer $JWT_TOKEN\" \\\n  -H \"Content-Type: application/ld+json\" \\\n  -d '{\n    \"@context\": [\n      \"https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context.jsonld\"\n    ],\n    \"temperature\": {\n      \"type\": \"Property\",\n      \"value\": 31.0\n    }\n  }'\n\n# Replace entity (PUT) - Allowed with JWT\ncurl -X PUT \"http://localhost:8080/ngsi-ld/v1/entities/urn:ngsi-ld:WeatherObserved:001\" \\\n  -H \"Authorization: Bearer $JWT_TOKEN\" \\\n  -H \"Content-Type: application/ld+json\" \\\n  -d '{\n    \"id\": \"urn:ngsi-ld:WeatherObserved:001\",\n    \"type\": \"WeatherObserved\",\n    \"temperature\": {\n      \"type\": \"Property\",\n      \"value\": 28.0\n    },\n    \"@context\": [\n      \"https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context.jsonld\"\n    ]\n  }'\n\n# POST operations are forbidden - Will return 403 Forbidden\ncurl -X POST \"http://localhost:8080/ngsi-ld/v1/entities\" \\\n  -H \"Authorization: Bearer $JWT_TOKEN\" \\\n  -H \"Content-Type: application/ld+json\" \\\n  -d '...'\n# Returns: {\"error\":\"forbidden\",\"reason\":\"POST not allowed from this IP\"}\n</code></pre>"},{"location":"#generating-jwt-tokens","title":"Generating JWT Tokens","text":"<p>JWT tokens must be signed with the <code>JWT_SECRET</code> using the HS256 algorithm. Here's an example using Python:</p> <pre><code>import jwt\nimport datetime\n\nsecret = \"your-secret-key-here\"  # Must match JWT_SECRET in .env\n\npayload = {\n    \"sub\": \"client-001\",\n    \"iat\": datetime.datetime.utcnow(),\n    \"exp\": datetime.datetime.utcnow() + datetime.timedelta(hours=24)\n}\n\ntoken = jwt.encode(payload, secret, algorithm=\"HS256\")\nprint(token)\n</code></pre> <p>Or using Node.js:</p> <pre><code>const jwt = require('jsonwebtoken');\n\nconst secret = 'your-secret-key-here';  // Must match JWT_SECRET in .env\n\nconst payload = {\n    sub: 'client-001',\n    iat: Math.floor(Date.now() / 1000),\n    exp: Math.floor(Date.now() / 1000) + (24 * 60 * 60)\n};\n\nconst token = jwt.sign(payload, secret, { algorithm: 'HS256' });\nconsole.log(token);\n</code></pre>"},{"location":"#ngsi-ld-context-requirement","title":"NGSI-LD Context Requirement","text":"<p>When using <code>application/ld+json</code> as the <code>Content-Type</code>, all NGSI-LD requests must include the <code>@context</code> field in the JSON payload. This is a requirement of the NGSI-LD specification.</p>"},{"location":"#common-error","title":"Common Error","text":"<p>If you omit the <code>@context</code>, you'll receive an error:</p> <pre><code>{\n  \"type\": \"https://uri.etsi.org/ngsi-ld/errors/BadRequestData\",\n  \"title\": \"@context missing in JSON payload\",\n  \"detail\": \"For application/ld+json, the @context must be present in the JSON payload\"\n}\n</code></pre>"},{"location":"#solution","title":"Solution","text":"<p>Always include the <code>@context</code> field at the top level of your JSON payload:</p> <pre><code>{\n  \"@context\": [\n    \"https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context.jsonld\"\n  ],\n  \"temperature\": {\n    \"type\": \"Property\",\n    \"value\": 31.0\n  }\n}\n</code></pre>"},{"location":"#alternative-using-applicationjson","title":"Alternative: Using application/json","text":"<p>You can also use <code>application/json</code> as the content type and provide the context via a <code>Link</code> header:</p> <pre><code>curl -X PATCH \"http://localhost:8080/ngsi-ld/v1/entities/urn:ngsi-ld:WeatherObserved:001/attrs\" \\\n  -H \"Authorization: Bearer $JWT_TOKEN\" \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Link: &lt;https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context.jsonld&gt;; rel=\\\"http://www.w3.org/ns/json-ld#context\\\"; type=\\\"application/ld+json\\\"\" \\\n  -d '{\n    \"temperature\": {\n      \"type\": \"Property\",\n      \"value\": 31.0\n    }\n  }'\n</code></pre>"},{"location":"#custom-contexts","title":"Custom Contexts","text":"<p>For domain-specific terms, you can include additional context files:</p> <pre><code>{\n  \"@context\": [\n    \"https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context.jsonld\",\n    \"https://yourdomain.com/contexts/weather-context.jsonld\"\n  ],\n  \"temperature\": {\n    \"type\": \"Property\",\n    \"value\": 31.0\n  }\n}\n</code></pre>"},{"location":"#architecture","title":"Architecture","text":""},{"location":"#component-overview","title":"Component Overview","text":"<pre><code>            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n            \u2502   Client    \u2502\n            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                   \u2502\n                   \u2502 HTTP Request\n                   \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Gateway (OpenResty)             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502   IP-based Access Control      \u2502     \u2502\n\u2502  \u2502   + JWT Verification (Lua)     \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502               \u25bc                         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502      Reverse Proxy             \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                   \u2502\n                   \u25bc\n            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n            \u2502  Orion-LD    \u2502\n            \u2502  (Port 1026) \u2502\n            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                   \u2502\n                   \u25bc\n            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n            \u2502   MongoDB    \u2502\n            \u2502  Replica Set \u2502\n            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"#security-flow","title":"Security Flow","text":"<ol> <li>Request Reception: Client sends HTTP request to gateway (port 8080)</li> <li>IP Verification: Gateway checks if request originates from <code>TRUSTED_IP</code></li> <li>If yes: Allow all operations \u2192 Forward to Orion-LD</li> <li>If no: Proceed to method and JWT checks</li> <li>Method Verification: For non-trusted IPs:</li> <li>POST, GET, DELETE \u2192 Immediately reject (403 Forbidden)</li> <li>PATCH, PUT \u2192 Require JWT verification</li> <li>JWT Verification: Validate JWT token in <code>Authorization: Bearer</code> header</li> <li>Valid token \u2192 Forward request to Orion-LD</li> <li>Invalid/missing token \u2192 Reject (401 Unauthorized)</li> <li>Proxy to Orion-LD: Authorized requests are proxied to Orion-LD backend</li> <li>Response: Orion-LD response is returned to client</li> </ol>"},{"location":"#security-model","title":"Security Model","text":""},{"location":"#trust-model","title":"Trust Model","text":"<p>The gateway implements a two-tier security model:</p> <ol> <li>Trusted Clients (Whitelisted IP)</li> <li>Identified by IP address matching <code>TRUSTED_IP</code></li> <li>Full access to all HTTP methods (GET, POST, PATCH, PUT, DELETE)</li> <li>No authentication required</li> <li> <p>Intended for internal data ingestion services</p> </li> <li> <p>Non-Trusted Clients (External)</p> </li> <li>All other IP addresses</li> <li>Must provide valid JWT for PATCH and PUT operations</li> <li>POST, GET, and DELETE operations are blocked</li> <li>Intended for external API consumers with limited write access</li> </ol>"},{"location":"#security-best-practices","title":"Security Best Practices","text":"<ol> <li>JWT Secret Management</li> <li>Use a strong, randomly generated secret (minimum 32 characters)</li> <li>Store <code>JWT_SECRET</code> in environment variables, never in code</li> <li>Rotate secrets periodically</li> <li> <p>Use different secrets for development and production</p> </li> <li> <p>Network Security</p> </li> <li>Run the gateway behind a reverse proxy with SSL/TLS termination</li> <li>Use firewall rules to restrict access to MongoDB and Orion-LD ports</li> <li>Only expose port 8080 (gateway) to external networks</li> <li> <p>Consider using Docker networks to isolate services</p> </li> <li> <p>Token Management</p> </li> <li>Implement token expiration (recommended: 1-24 hours)</li> <li>Use short-lived tokens and implement refresh token mechanism</li> <li>Include appropriate claims (sub, iat, exp) in JWT payload</li> <li> <p>Monitor and log authentication attempts</p> </li> <li> <p>Production Deployment</p> </li> <li>Use HTTPS for all external communications</li> <li>Implement rate limiting at the reverse proxy level</li> <li>Enable audit logging for compliance requirements</li> <li>Regular security updates for all container images</li> </ol>"},{"location":"#configuration","title":"Configuration","text":""},{"location":"#environment-variables","title":"Environment Variables","text":"Variable Description Example Required <code>JWT_SECRET</code> Secret key for JWT signing and verification <code>my-super-secret-key-2024</code> Yes <code>TRUSTED_IP</code> IP address allowed full access without authentication <code>172.18.0.1</code> Yes"},{"location":"#finding-your-docker-network-ip","title":"Finding Your Docker Network IP","text":"<p>To determine the correct <code>TRUSTED_IP</code> for Docker-based trusted clients:</p> <pre><code># Find your Docker bridge network IP\ndocker network inspect bridge | grep Gateway\n\n# Or check your client container's IP\ndocker inspect &lt;container-name&gt; | grep IPAddress\n</code></pre>"},{"location":"#customizing-nginx-configuration","title":"Customizing Nginx Configuration","text":"<p>The gateway configuration is located in:</p> <ul> <li>Main config: <code>docker/nginx/nginx.conf</code></li> <li>Gateway rules: <code>docker/nginx/conf.d/gateway.conf</code></li> <li>JWT verification: <code>docker/lualib/jwt_verify.lua</code></li> </ul> <p>To modify access rules, edit <code>gateway.conf</code> and rebuild the gateway container:</p> <pre><code>docker compose -f docker/docker-compose.yml build gateway\ndocker compose -f docker/docker-compose.yml up -d gateway\n</code></pre>"},{"location":"#known-issues","title":"Known issues","text":"<p>Current Limitations:</p> <ul> <li>Single trusted IP support only (no multiple IP whitelisting)</li> <li>No Role-Based Access Control (RBAC) system</li> <li>No rate limiting or throttling</li> <li>No per-entity or per-attribute authorization</li> <li>JWT tokens have no built-in revocation mechanism</li> <li>No audit logging of access attempts</li> </ul>"},{"location":"#troubleshooting","title":"Troubleshooting","text":""},{"location":"#common-issues","title":"Common Issues","text":""},{"location":"#gateway-returns-401-unauthorized","title":"Gateway returns 401 Unauthorized","text":"<ul> <li>Verify JWT token is properly formatted: <code>Authorization: Bearer &lt;token&gt;</code></li> <li>Check that <code>JWT_SECRET</code> matches between token generation and gateway</li> <li>Ensure JWT token hasn't expired</li> <li>Validate JWT algorithm is HS256</li> </ul>"},{"location":"#gateway-returns-403-forbidden","title":"Gateway returns 403 Forbidden","text":"<ul> <li>Verify client IP is not trying to use POST, GET, or DELETE operations</li> <li>If using trusted IP, check that <code>TRUSTED_IP</code> matches client's actual IP</li> <li>Check gateway logs: <code>docker logs gateway</code></li> </ul>"},{"location":"#cannot-connect-to-gateway","title":"Cannot connect to gateway","text":"<pre><code># Check if all services are running\ndocker compose ps\n\n# Check gateway logs\ndocker logs gateway\n\n# Check if port 8080 is accessible\ncurl -v http://localhost:8080/version\n</code></pre>"},{"location":"#mongodb-replica-set-issues","title":"MongoDB replica set issues","text":"<pre><code># Verify replica set status\ndocker exec -it mongo mongosh --eval \"rs.status()\"\n\n# Reinitialize if needed\n./start.sh\n</code></pre>"},{"location":"#view-detailed-logs","title":"View detailed logs","text":"<pre><code># Gateway logs (includes Lua debug output)\ndocker logs -f gateway\n\n# Orion-LD logs\ndocker logs -f orion-ld\n\n# MongoDB logs\ndocker logs -f mongo\n</code></pre>"},{"location":"#support","title":"Support","text":"<p>If you have questions, concerns, bug reports, or feature requests, please file an issue in this repository's Issue Tracker.</p> <p>For security vulnerabilities, please see SECURITY.md for responsible disclosure procedures.</p>"},{"location":"#contributing","title":"Contributing","text":"<p>This section should detail why people should get involved and describe key areas you are currently focusing on; e.g., trying to get feedback on features, fixing certain bugs, building important pieces, etc.</p> <p>General instructions on how to contribute should be stated with a link to CONTRIBUTING.</p>"},{"location":"#development","title":"Development","text":""},{"location":"#project-structure","title":"Project Structure","text":"<pre><code>Orion-Nginx/\n\u251c\u2500\u2500 Makefile                    # Build and management commands\n\u251c\u2500\u2500 README.md                   # Main documentation\n\u251c\u2500\u2500 README.vi.md                # Vietnamese documentation\n\u251c\u2500\u2500 LICENSE                     # Project license\n\u251c\u2500\u2500 SECURITY.md                 # Security reporting guidelines\n\u251c\u2500\u2500 CODE_OF_CONDUCT.md          # Community guidelines\n\u251c\u2500\u2500 CONTRIBUTING.md             # Contribution guidelines\n\u251c\u2500\u2500 GOVERNANCE.md               # Project governance\n\u251c\u2500\u2500 docker/                     # Docker-related files\n\u2502   \u251c\u2500\u2500 docker-compose.yml      # Multi-container orchestration\n\u2502   \u251c\u2500\u2500 Dockerfile              # Gateway container build definition\n\u2502   \u251c\u2500\u2500 .env.example            # Environment variables template\n\u2502   \u251c\u2500\u2500 lualib/\n\u2502   \u2502   \u2514\u2500\u2500 jwt_verify.lua      # JWT verification logic\n\u2502   \u2514\u2500\u2500 nginx/\n\u2502       \u251c\u2500\u2500 nginx.conf          # Main Nginx configuration\n\u2502       \u2514\u2500\u2500 conf.d/\n\u2502           \u2514\u2500\u2500 gateway.conf    # Gateway routing and access control\n\u251c\u2500\u2500 docs/                       # MkDocs documentation\n\u2502   \u251c\u2500\u2500 en/                     # English documentation\n\u2502   \u2514\u2500\u2500 vi/                     # Vietnamese documentation\n\u251c\u2500\u2500 mkdocs.yml                  # MkDocs configuration\n\u2514\u2500\u2500 requirements.txt            # Python dependencies for docs\n</code></pre>"},{"location":"#modifying-access-control-logic","title":"Modifying Access Control Logic","text":"<p>The main access control logic is in <code>docker/nginx/conf.d/gateway.conf</code>:</p> <pre><code>-- Example: Adding a new allowed method for non-trusted IPs\nif method == \"POST\" or method == \"GET\" or method == \"DELETE\" then\n    -- Modify this condition to change blocked methods\n    ngx.status = ngx.HTTP_FORBIDDEN\n    -- ...\nend\n</code></pre>"},{"location":"#building-custom-gateway-image","title":"Building Custom Gateway Image","text":"<pre><code>cd docker\n\n# Build gateway with custom tag\ndocker compose build gateway --build-arg CUSTOM_ARG=value\n\n# Test changes\ndocker compose up -d gateway\n\n# View logs\ndocker logs -f gateway\n</code></pre>"},{"location":"#running-tests","title":"Running Tests","text":"<pre><code># Test JWT verification\ndocker exec -it gateway /usr/local/openresty/bin/resty /usr/local/openresty/site/lualib/jwt_verify.lua\n\n# Test with curl\n./test-endpoints.sh  # Create test script based on Usage examples\n</code></pre>"},{"location":"#adding-new-dependencies","title":"Adding New Dependencies","text":"<p>To add new Lua libraries:</p> <ol> <li>Update <code>docker/Dockerfile</code>:</li> </ol> <pre><code>RUN /usr/local/openresty/bin/opm get &lt;package-name&gt;\n</code></pre> <ol> <li>Rebuild container:</li> </ol> <pre><code>docker compose -f docker/docker-compose.yml build gateway\n</code></pre> <p>For more detailed development guidelines, see CONTRIBUTING.md.</p>"},{"location":"#license","title":"License","text":"<p>This project is licensed under the Apache License 2.0 - see the LICENSE file for details.</p>"},{"location":"#maintainers","title":"Maintainers","text":"<p>Name and git-account for primary maintainer/s:</p> <p>Example: The_maintainers</p>"},{"location":"#credits-and-references","title":"Credits and References","text":""},{"location":"#related-projects","title":"Related Projects","text":"<ul> <li>FIWARE Orion-LD - NGSI-LD Context Broker</li> <li>OpenResty - High-performance web platform based on Nginx and Lua</li> <li>lua-resty-jwt - JWT authentication library for OpenResty</li> </ul>"},{"location":"#standards-and-specifications","title":"Standards and Specifications","text":"<ul> <li>NGSI-LD API - ETSI GS CIM 009 V1.8.1</li> <li>JSON Web Token (JWT) - RFC 7519</li> <li>FIWARE Documentation</li> </ul>"},{"location":"#acknowledgments","title":"Acknowledgments","text":"<p>Special thanks to:</p> <ul> <li>The FIWARE Foundation for the Orion-LD context broker</li> <li>The OpenResty community for the powerful web platform</li> <li>IEEE Open Source Maintainers Manual</li> </ul>"},{"location":"Open_Source_Checklist/","title":"Open Source Checklist - Orion-LD API Gateway","text":""},{"location":"Open_Source_Checklist/#about","title":"About","text":"<p>This checklist ensures the Orion-LD API Gateway project follows best practices for health, development, and security. It serves as a living document to track our progress and maintain high standards for our open source community.</p> <p>Use this checklist as a discussion starter for the team and a foundation for continuous improvement.</p>"},{"location":"Open_Source_Checklist/#project-status","title":"Project Status","text":"<p>Current compliance status for Orion-LD API Gateway:</p> <ul> <li>\u2705 Documentation complete (README, Architecture, Usage)</li> <li>\u2705 Docker-based deployment ready</li> <li>\u2705 Security features implemented (JWT, IP whitelisting)</li> <li>\u2705 GitHub Actions CI/CD configured</li> <li>\u2705 MkDocs documentation site</li> <li>\ud83d\udd04 OpenSSF Scorecard monitoring enabled</li> <li>\ud83d\udd04 Container security scanning active</li> </ul>"},{"location":"Open_Source_Checklist/#archiving-and-deprecating-a-project","title":"Archiving and Deprecating a Project","text":"<ul> <li>Should use the platform's \"Archival\" function. This way, it becomes read-only, including the issues board, and is flagged as inactive.</li> <li>Should state in the README that the project is no longer maintained.</li> <li>Should be archived if there are no maintainers.</li> </ul>"},{"location":"Open_Source_Checklist/#documentation","title":"Documentation","text":""},{"location":"Open_Source_Checklist/#community-health-files","title":"Community Health Files \u2705","text":"<p>The project includes all standard Community Health Files:</p> <ul> <li>\u2705 README.md - Comprehensive project documentation</li> <li>\u2705 CONTRIBUTING.md - Contribution guidelines</li> <li>\u2705 CODE_OF_CONDUCT.md - Community standards</li> <li>\u2705 SECURITY.md - Security policy</li> <li>\u2705 CHANGELOG.md - Version history</li> <li>\u2705 GOVERNANCE.md - Project governance</li> </ul>"},{"location":"Open_Source_Checklist/#technical-documentation","title":"Technical Documentation \u2705","text":"<ul> <li>\u2705 Installation and Requirements - Docker setup guide</li> <li>\u2705 Quick Start Instructions - 3-step deployment process</li> <li>\u2705 Usage Examples - Both trusted and non-trusted client scenarios</li> <li>\u2705 Architecture Diagram - Visual component flow</li> <li>\u2705 Security Model - Two-tier access control explanation</li> <li>\u2705 Configuration Guide - Environment variables and customization</li> <li>\u2705 Troubleshooting - Common issues and solutions</li> <li>\u2705 Development Guide - For contributors</li> <li>\u2705 MkDocs Site - Published documentation</li> </ul>"},{"location":"Open_Source_Checklist/#legal-and-licensing","title":"Legal and Licensing","text":""},{"location":"Open_Source_Checklist/#license-compliance","title":"License Compliance \u2705","text":"<ul> <li>\u2705 Project licensed under CC-BY-4.0</li> <li>\u2705 No conflicts with third-party licenses (OpenResty, Orion-LD, MongoDB)</li> <li>\u2705 License declarations follow REUSE specification</li> <li>\u2705 All materials have clear copyright information</li> </ul>"},{"location":"Open_Source_Checklist/#third-party-dependencies","title":"Third-Party Dependencies","text":"<ul> <li>OpenResty (BSD License) - Compatible \u2705</li> <li>lua-resty-jwt (Apache 2.0) - Compatible \u2705</li> <li>lua-resty-hmac (MIT) - Compatible \u2705</li> <li>FIWARE Orion-LD (AGPL-3.0) - Separate container, compatible \u2705</li> <li>MongoDB (SSPL) - Separate container, compatible \u2705</li> </ul>"},{"location":"Open_Source_Checklist/#naming-and-trademarks-check","title":"Naming and Trademarks Check","text":"<ul> <li>Should ensure that the project name does not conflict with an existing project or infringe on trademarks.</li> <li>Conduct a general search engine check for the proposed project name.</li> <li>Perform a Trademark Search.</li> </ul> <p>Note: It might be perfectly acceptable to use a name reminiscent of an existing trademark - if the existing trademark is used for other services/areas and is not recognized as a well-known trademark.</p>"},{"location":"Open_Source_Checklist/#people-maintenance","title":"People &amp; Maintenance","text":""},{"location":"Open_Source_Checklist/#maintainer-responsibilities","title":"Maintainer Responsibilities \u2705","text":"<ul> <li>\u2705 Maintainers listed in README</li> <li>\u2705 Security contact designated in SECURITY.md</li> <li>\u2705 Pull request workflow defined in CONTRIBUTING.md</li> <li>\u2705 Community engagement guidelines in place</li> <li>\u2705 Code review process via GitHub Actions</li> </ul>"},{"location":"Open_Source_Checklist/#release-management","title":"Release Management \ud83d\udd04","text":"<ul> <li>\u2705 GitHub Actions workflows for releases configured</li> <li>\u2705 Semantic versioning ready (v..* tags)</li> <li>\u2705 Docker image publishing to ghcr.io</li> <li>\u2705 SLSA provenance attestation enabled</li> <li>\u2705 SBOM generation configured</li> <li>\ud83d\udd04 Need to establish regular release cadence</li> <li>\ud83d\udd04 Consider CODEOWNERS file for component ownership</li> </ul>"},{"location":"Open_Source_Checklist/#project-quality","title":"Project Quality","text":""},{"location":"Open_Source_Checklist/#code-quality","title":"Code Quality \u2705","text":"<ul> <li>\u2705 Initial code review completed</li> <li>\u2705 MegaLinter integration in CI pipeline</li> <li>\u2705 Docker build testing on pull requests</li> <li>\u2705 YAML, Markdown, and Shell script linting</li> </ul>"},{"location":"Open_Source_Checklist/#ease-of-use","title":"Ease of Use \u2705","text":"<ul> <li>\u2705 Docker Compose setup for easy deployment</li> <li>\u2705 Simple <code>start.sh</code> script for quick start</li> <li>\u2705 Comprehensive documentation with examples</li> <li>\u2705 Pre-built container images via GitHub Actions</li> <li>\u2705 cURL examples for common operations</li> <li>\u2705 JWT generation examples in Python and Node.js</li> </ul>"},{"location":"Open_Source_Checklist/#testing-goals","title":"Testing Goals \ud83d\udd04","text":"<p>Current state:</p> <ul> <li>\u2705 Docker build tests</li> <li>\u2705 Docker Compose validation</li> <li>\ud83d\udd04 Need integration tests for JWT verification</li> <li>\ud83d\udd04 Need end-to-end API tests</li> <li>\ud83d\udd04 Consider load testing for production readiness</li> </ul>"},{"location":"Open_Source_Checklist/#release-and-versioning","title":"Release and Versioning","text":""},{"location":"Open_Source_Checklist/#version-strategy","title":"Version Strategy \u2705","text":"<ul> <li>\u2705 Semantic Versioning 2.0.0 implemented</li> <li>\u2705 Git tags for releases (v..*)</li> <li>\u2705 Support for pre-release versions (alpha, beta, rc)</li> <li>\u2705 Automated release workflow via GitHub Actions</li> <li>\u2705 Draft releases for review before publishing</li> <li>\u2705 Container images tagged with version numbers</li> </ul>"},{"location":"Open_Source_Checklist/#release-process","title":"Release Process","text":"<p>Automated via <code>.github/workflows/release-workflow.yml</code>:</p> <ol> <li>Push version tag (e.g., <code>v1.0.0</code>)</li> <li>GitHub Actions builds container</li> <li>Generates SBOM and SLSA provenance</li> <li>Publishes to GitHub Container Registry</li> <li>Creates draft GitHub release with changelog</li> </ol>"},{"location":"Open_Source_Checklist/#security","title":"Security","text":"<p>Based on the OpenSSF guide for secure open source development (2023-06-14) and social engineering takeover alerts.</p>"},{"location":"Open_Source_Checklist/#general-security","title":"General Security \ud83d\udd04","text":"<p>Repository Protection:</p> <ul> <li>\ud83d\udd04 Enable 2FA/MFA for all maintainers</li> <li>\ud83d\udd04 Limit merge and push rights to main branch</li> <li>\ud83d\udd04 Enable branch protection rules</li> <li>\ud83d\udd04 Require signed commits</li> <li>\u2705 OpenSSF Scorecard monitoring enabled</li> </ul> <p>Maintainer Review:</p> <ul> <li>\ud83d\udd04 Establish periodic review of committers and maintainers</li> <li>\u2705 Automated testing in CI pipeline</li> <li>\ud83d\udd04 Need test coverage reporting</li> <li>\ud83d\udd04 Add negative case testing</li> </ul>"},{"location":"Open_Source_Checklist/#contribution-security","title":"Contribution Security \u2705","text":"<ul> <li>\u2705 Code review process defined in CONTRIBUTING.md</li> <li>\u2705 Pull request template with checklist</li> <li>\u2705 MegaLinter runs on all PRs</li> <li>\u2705 Docker build testing before merge</li> <li>\u2705 Clear contribution guidelines</li> <li>\u2705 No binary files in repository (container-based deployment)</li> </ul>"},{"location":"Open_Source_Checklist/#dependencies-and-vulnerability-detection","title":"Dependencies and Vulnerability Detection","text":"<p>Implemented \u2705:</p> <ul> <li>\u2705 Container vulnerability scanning in CI pipeline</li> <li>\u2705 MegaLinter for code quality and security</li> <li>\u2705 YAML, Shell, and Dockerfile linting</li> <li>\u2705 Automated dependency tracking via Dependabot (GitHub)</li> <li>\u2705 Package managers used (Alpine APK, OpenResty OPM)</li> </ul> <p>Dependencies Monitored:</p> <ul> <li>\u2705 OpenResty base image (Alpine-based)</li> <li>\u2705 lua-resty-jwt library</li> <li>\u2705 lua-resty-hmac library</li> <li>\u2705 Orion-LD container (FIWARE official)</li> <li>\u2705 MongoDB container (official)</li> </ul> <p>TODO \ud83d\udd04:</p> <ul> <li>\ud83d\udd04 Enable GitHub secret scanning</li> <li>\ud83d\udd04 Add SAST tools (e.g., Trivy, Grype)</li> <li>\ud83d\udd04 Implement automated security updates</li> <li>\ud83d\udd04 Add dependency health evaluation process</li> </ul>"},{"location":"Open_Source_Checklist/#publishing-and-distribution","title":"Publishing and Distribution \u2705","text":"<p>SBOM and Attestation:</p> <ul> <li>\u2705 SBOM generation enabled in release workflow</li> <li>\u2705 SLSA provenance attestation configured</li> <li>\u2705 Container image scanning before publish</li> <li>\u2705 Multi-platform builds (AMD64, ARM64)</li> </ul> <p>Access Control:</p> <ul> <li>\u2705 Publishing limited to GitHub Actions workflows</li> <li>\u2705 Requires repository permissions for releases</li> <li>\u2705 Published to GitHub Container Registry (ghcr.io)</li> </ul> <p>User Experience:</p> <ul> <li>\u2705 Semantic versioning for clear upgrade paths</li> <li>\u2705 Container tags: <code>latest</code>, <code>v1.0.0</code>, <code>v1.0</code>, <code>v1</code></li> <li>\u2705 Comprehensive upgrade documentation</li> <li>\u2705 Environment variable based configuration (easy updates)</li> <li>\ud83d\udd04 Consider signing releases with GPG/sigstore</li> </ul>"},{"location":"Open_Source_Checklist/#security-policy","title":"Security Policy \u2705","text":"<ul> <li>\u2705 SECURITY.md in place</li> <li>\u2705 Vulnerability reporting process documented</li> <li>\u2705 Security contact information provided</li> <li>\u2705 Response timeline commitments</li> <li>\u2705 Responsible disclosure guidelines</li> </ul>"},{"location":"Open_Source_Checklist/#security-resources","title":"Security Resources","text":"<p>Secure software practices and tooling from OpenSSF and OWASP:</p>"},{"location":"Open_Source_Checklist/#tooling","title":"Tooling","text":"<ul> <li>OpenSSF guide to security tools.</li> <li>OWASP Application Security Tools</li> <li>OpenSSF Scorecards for repository security</li> </ul>"},{"location":"Open_Source_Checklist/#guides","title":"Guides","text":"<ul> <li>OpenSSF's Concise Guide for Evaluating Open Source Software</li> <li>CNCF Security TAG Software Supply Chain Best Practices guide.</li> <li>OWASP Cheatsheets.</li> <li>OWASP Software Developer Guide.</li> <li>Signing artifacts in the supply chain - OpenSSF sigstore project.</li> <li>OWASP Application Security Verification Standard - ASVS.</li> <li>Supply-chain Levels for Software Artifacts - (SLSA).</li> </ul>"},{"location":"Open_Source_Checklist/#github-workflows","title":"GitHub Workflows \u2705","text":""},{"location":"Open_Source_Checklist/#automated-cicd-pipelines","title":"Automated CI/CD Pipelines","text":"<p>Pull Request Workflow:</p> <ul> <li>\u2705 MegaLinter for code quality</li> <li>\u2705 Docker build testing</li> <li>\u2705 Container security scanning</li> <li>\u2705 Automatic on every PR</li> </ul> <p>Release Workflow:</p> <ul> <li>\u2705 Triggered by version tags (v..*)</li> <li>\u2705 Builds multi-platform containers</li> <li>\u2705 Generates SBOM and SLSA provenance</li> <li>\u2705 Publishes to GitHub Container Registry</li> <li>\u2705 Creates draft release with changelog</li> </ul> <p>MkDocs Deployment:</p> <ul> <li>\u2705 Automatic documentation deployment</li> <li>\u2705 Deploys to GitHub Pages</li> <li>\u2705 Triggered on docs changes</li> </ul> <p>OpenSSF Scorecard:</p> <ul> <li>\u2705 Bi-weekly security analysis</li> <li>\u2705 Results published to GitHub Security tab</li> </ul> <p>See CONTRIBUTING for detailed workflow information.</p>"},{"location":"Open_Source_Checklist/#specifications-and-standards-to-follow","title":"Specifications and Standards to Follow","text":"<p>The following will help your Open Source Project to be collaborative, reusable, accessible, and up-to-date.</p> <ul> <li>REUSE License specification</li> <li> <p>Ensures clear and standardized license compliance across the project.</p> </li> <li> <p>Conventional Commits format</p> </li> <li> <p>Provides a clear and structured project history through standardized commit messages.</p> </li> <li> <p>Keep-A-Changelog format</p> </li> <li> <p>Maintains a clear and user-friendly release history.</p> </li> <li> <p>Semantic Versioning 2.0.0</p> </li> <li> <p>Provides consistent version numbering for releases.</p> </li> <li> <p>Contributor Covenant guidelines</p> </li> <li> <p>Establishes a social contract for respectful and inclusive collaboration.</p> </li> <li> <p>OpenSSF Scorecard</p> </li> <li> <p>Helps assess and improve the security health of our project.</p> </li> <li> <p>PublicCode.yml</p> </li> <li> <p>Facilitates easy metadata indexing for better discoverability of our project.</p> </li> <li> <p>Standard for Public Code</p> </li> <li>Ensures the project meets criteria for public code quality and sustainability.</li> </ul>"},{"location":"vi/","title":"Orion-LD API Gateway","text":"<p>M\u00f4 t\u1ea3: Gi\u1ea3i ph\u00e1p API gateway b\u1ea3o m\u1eadt \u0111\u1ec3 b\u1ea3o v\u1ec7 FIWARE Orion-LD context brokers v\u1edbi x\u00e1c th\u1ef1c d\u1ef1a tr\u00ean JWT v\u00e0 ki\u1ec3m so\u00e1t truy c\u1eadp d\u1ef1a tr\u00ean IP. D\u1ef1 \u00e1n n\u00e0y cung c\u1ea5p m\u1ed9t l\u1edbp proxy \u0111\u1ea3m b\u1ea3o ch\u1ec9 c\u00e1c client \u0111\u01b0\u1ee3c \u1ee7y quy\u1ec1n m\u1edbi c\u00f3 th\u1ec3 t\u01b0\u01a1ng t\u00e1c v\u1edbi Orion-LD instance c\u1ee7a b\u1ea1n, ng\u0103n ch\u1eb7n vi\u1ec7c nh\u1eadp d\u1eef li\u1ec7u tr\u00e1i ph\u00e9p v\u00e0 gi\u1ea3m r\u1ee7i ro b\u1ea3o m\u1eadt khi expose NGSI-LD APIs ra m\u00f4i tr\u01b0\u1eddng b\u00ean ngo\u00e0i.</p> <p>T\u00ednh n\u0103ng ch\u00ednh:</p> <ul> <li>\ud83d\udd12 X\u00e1c th\u1ef1c d\u1ef1a tr\u00ean JWT \u0111\u1ec3 ki\u1ec3m so\u00e1t truy c\u1eadp API</li> <li>\ud83c\udf10 Whitelist IP cho c\u00e1c client \u0111\u00e1ng tin c\u1eady</li> <li>\ud83d\udeab H\u1ea1n ch\u1ebf truy c\u1eadp theo ph\u01b0\u01a1ng th\u1ee9c HTTP (Ki\u1ec3m so\u00e1t POST, GET, DELETE)</li> <li>\ud83d\udd04 Reverse proxy li\u1ec1n m\u1ea1ch \u0111\u1ebfn Orion-LD</li> <li>\ud83d\udc33 Tri\u1ec3n khai d\u1ef1a tr\u00ean Docker v\u1edbi MongoDB replica set</li> <li>\u26a1 X\u00e2y d\u1ef1ng tr\u00ean OpenResty (Nginx + Lua) cho hi\u1ec7u n\u0103ng cao</li> </ul>"},{"location":"vi/#muc-luc","title":"M\u1ee5c l\u1ee5c","text":"<ul> <li>C\u00e0i \u0111\u1eb7t v\u00e0 Y\u00eau c\u1ea7u</li> <li>H\u01b0\u1edbng d\u1eabn B\u1eaft \u0111\u1ea7u Nhanh</li> <li>S\u1eed d\u1ee5ng</li> <li>C\u00e1c V\u1ea5n \u0111\u1ec1 \u0110\u00e3 Bi\u1ebft</li> <li>H\u1ed7 tr\u1ee3</li> <li>\u0110\u00f3ng g\u00f3p</li> <li>Ph\u00e1t tri\u1ec3n</li> <li>Gi\u1ea5y ph\u00e9p</li> <li>Ng\u01b0\u1eddi duy tr\u00ec</li> <li>T\u00edn ch\u1ec9 v\u00e0 Tham kh\u1ea3o</li> </ul>"},{"location":"vi/#cai-at-va-yeu-cau","title":"C\u00e0i \u0111\u1eb7t v\u00e0 Y\u00eau c\u1ea7u","text":""},{"location":"vi/#ieu-kien-tien-quyet","title":"\u0110i\u1ec1u ki\u1ec7n ti\u00ean quy\u1ebft","text":"<ul> <li>Docker Engine 20.10 tr\u1edf l\u00ean</li> <li>Docker Compose V2</li> <li>T\u1ed1i thi\u1ec3u 4GB RAM (khuy\u1ebfn ngh\u1ecb 8GB)</li> <li>C\u00e1c c\u1ed5ng 8080, 1026 v\u00e0 27017 ph\u1ea3i kh\u1ea3 d\u1ee5ng</li> </ul>"},{"location":"vi/#yeu-cau-he-thong","title":"Y\u00eau c\u1ea7u H\u1ec7 th\u1ed1ng","text":"<p>Gateway bao g\u1ed3m ba th\u00e0nh ph\u1ea7n ch\u00ednh:</p> <ol> <li>MongoDB 5.0.26 - Database backend v\u1edbi replica set</li> <li>Orion-LD - FIWARE NGSI-LD context broker</li> <li>Gateway - Proxy d\u1ef1a tr\u00ean OpenResty v\u1edbi x\u00e1c th\u1ef1c JWT</li> </ol>"},{"location":"vi/#huong-dan-bat-au-nhanh","title":"H\u01b0\u1edbng d\u1eabn B\u1eaft \u0111\u1ea7u Nhanh","text":"<ol> <li>Clone repository</li> </ol> <pre><code>git clone https://github.com/CTU-SematX/Orion-Nginx.git\ncd Orion-Nginx\n</code></pre> <ol> <li>Thi\u1ebft l\u1eadp bi\u1ebfn m\u00f4i tr\u01b0\u1eddng</li> </ol> <p>S\u1eed d\u1ee5ng Makefile \u0111\u1ec3 t\u1ea1o file <code>.env</code>:</p> <pre><code>make setup\n</code></pre> <p>Sau \u0111\u00f3 ch\u1ec9nh s\u1eeda file <code>.env</code> \u0111\u1ec3 c\u1eadp nh\u1eadt c\u00e1c gi\u00e1 tr\u1ecb:</p> <pre><code>JWT_SECRET=your-secret-key-here\nTRUSTED_IP=172.18.0.1\n</code></pre> <p>Thay th\u1ebf <code>your-secret-key-here</code> b\u1eb1ng m\u1ed9t secret key m\u1ea1nh \u0111\u1ec3 k\u00fd JWT Thay th\u1ebf <code>TRUSTED_IP</code> b\u1eb1ng \u0111\u1ecba ch\u1ec9 IP c\u1ee7a client \u0111\u00e1ng tin c\u1eady</p> <ol> <li>Kh\u1edfi \u0111\u1ed9ng c\u00e1c d\u1ecbch v\u1ee5</li> </ol> <pre><code>make start\n</code></pre> <p>L\u1ec7nh n\u00e0y s\u1ebd:    - Kh\u1edfi \u0111\u1ed9ng MongoDB v\u00e0 kh\u1edfi t\u1ea1o replica set    - Kh\u1edfi \u0111\u1ed9ng Orion-LD context broker    - Build v\u00e0 kh\u1edfi \u0111\u1ed9ng gateway proxy</p> <p>Gateway s\u1ebd kh\u1ea3 d\u1ee5ng t\u1ea1i <code>http://localhost:8080</code></p>"},{"location":"vi/#quan-ly-dich-vu","title":"Qu\u1ea3n l\u00fd D\u1ecbch v\u1ee5","text":"<p>S\u1eed d\u1ee5ng c\u00e1c l\u1ec7nh Makefile \u0111\u1ec3 qu\u1ea3n l\u00fd tri\u1ec3n khai c\u1ee7a b\u1ea1n:</p> <pre><code># Xem t\u1ea5t c\u1ea3 c\u00e1c l\u1ec7nh kh\u1ea3 d\u1ee5ng\nmake help\n\n# Kh\u1edfi \u0111\u1ed9ng t\u1ea5t c\u1ea3 d\u1ecbch v\u1ee5\nmake start\n\n# D\u1eebng t\u1ea5t c\u1ea3 d\u1ecbch v\u1ee5\nmake stop\n\n# Kh\u1edfi \u0111\u1ed9ng l\u1ea1i t\u1ea5t c\u1ea3 d\u1ecbch v\u1ee5\nmake restart\n\n# Xem logs t\u1eeb t\u1ea5t c\u1ea3 d\u1ecbch v\u1ee5\nmake logs\n\n# Ki\u1ec3m tra tr\u1ea1ng th\u00e1i d\u1ecbch v\u1ee5\nmake status\n\n# X\u00f3a t\u1ea5t c\u1ea3 d\u1eef li\u1ec7u (C\u1ea2NH B\u00c1O: x\u00f3a m\u1ecdi th\u1ee9)\nmake clean\n</code></pre>"},{"location":"vi/#su-dung","title":"S\u1eed d\u1ee5ng","text":"<p>Gateway tri\u1ec3n khai h\u1ec7 th\u1ed1ng ki\u1ec3m so\u00e1t truy c\u1eadp hai c\u1ea5p d\u1ef1a tr\u00ean \u0111\u1ecba ch\u1ec9 IP c\u1ee7a client v\u00e0 x\u00e1c th\u1ef1c JWT.</p>"},{"location":"vi/#quy-tac-kiem-soat-truy-cap","title":"Quy t\u1eafc Ki\u1ec3m so\u00e1t Truy c\u1eadp","text":"Ph\u01b0\u01a1ng th\u1ee9c HTTP IP \u0110\u00e1ng tin c\u1eady IP Kh\u00f4ng \u0111\u00e1ng tin c\u1eady (v\u1edbi JWT) GET \u2705 Cho ph\u00e9p \u274c C\u1ea5m POST \u2705 Cho ph\u00e9p \u274c C\u1ea5m PATCH \u2705 Cho ph\u00e9p \u2705 Cho ph\u00e9p PUT \u2705 Cho ph\u00e9p \u2705 Cho ph\u00e9p DELETE \u2705 Cho ph\u00e9p \u274c C\u1ea5m"},{"location":"vi/#danh-cho-client-ang-tin-cay","title":"D\u00e0nh cho Client \u0110\u00e1ng tin c\u1eady","text":"<p>N\u1ebfu request c\u1ee7a b\u1ea1n xu\u1ea5t ph\u00e1t t\u1eeb <code>TRUSTED_IP</code> \u0111\u00e3 c\u1ea5u h\u00ecnh, t\u1ea5t c\u1ea3 c\u00e1c thao t\u00e1c \u0111\u01b0\u1ee3c cho ph\u00e9p m\u00e0 kh\u00f4ng c\u1ea7n x\u00e1c th\u1ef1c:</p> <pre><code># T\u1ea1o m\u1ed9t entity (POST)\ncurl -X POST \"http://localhost:8080/ngsi-ld/v1/entities\" \\\n  -H \"Content-Type: application/ld+json\" \\\n  -d '{\n    \"id\": \"urn:ngsi-ld:WeatherObserved:001\",\n    \"type\": \"WeatherObserved\",\n    \"temperature\": {\n      \"type\": \"Property\",\n      \"value\": 25.0\n    },\n    \"@context\": [\n      \"https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context.jsonld\"\n    ]\n  }'\n\n# Truy v\u1ea5n entities (GET)\ncurl -X GET \"http://localhost:8080/ngsi-ld/v1/entities/urn:ngsi-ld:WeatherObserved:001\"\n\n# X\u00f3a m\u1ed9t entity (DELETE)\ncurl -X DELETE \"http://localhost:8080/ngsi-ld/v1/entities/urn:ngsi-ld:WeatherObserved:001\"\n</code></pre>"},{"location":"vi/#danh-cho-client-khong-ang-tin-cay","title":"D\u00e0nh cho Client Kh\u00f4ng \u0111\u00e1ng tin c\u1eady","text":"<p>Client kh\u00f4ng \u0111\u00e1ng tin c\u1eady ph\u1ea3i cung c\u1ea5p JWT token h\u1ee3p l\u1ec7 v\u00e0 ch\u1ec9 c\u00f3 th\u1ec3 s\u1eed d\u1ee5ng c\u00e1c thao t\u00e1c PATCH v\u00e0 PUT:</p> <pre><code># T\u1ea1o JWT token (v\u00ed d\u1ee5 s\u1eed d\u1ee5ng tool ho\u1eb7c script)\nexport JWT_TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"\n\n# C\u1eadp nh\u1eadt thu\u1ed9c t\u00ednh entity (PATCH) - \u0110\u01b0\u1ee3c ph\u00e9p v\u1edbi JWT\ncurl -X PATCH \"http://localhost:8080/ngsi-ld/v1/entities/urn:ngsi-ld:WeatherObserved:001/attrs\" \\\n  -H \"Authorization: Bearer $JWT_TOKEN\" \\\n  -H \"Content-Type: application/ld+json\" \\\n  -d '{\n    \"@context\": [\n      \"https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context.jsonld\"\n    ],\n    \"temperature\": {\n      \"type\": \"Property\",\n      \"value\": 31.0\n    }\n  }'\n\n# Thay th\u1ebf entity (PUT) - \u0110\u01b0\u1ee3c ph\u00e9p v\u1edbi JWT\ncurl -X PUT \"http://localhost:8080/ngsi-ld/v1/entities/urn:ngsi-ld:WeatherObserved:001\" \\\n  -H \"Authorization: Bearer $JWT_TOKEN\" \\\n  -H \"Content-Type: application/ld+json\" \\\n  -d '{\n    \"id\": \"urn:ngsi-ld:WeatherObserved:001\",\n    \"type\": \"WeatherObserved\",\n    \"temperature\": {\n      \"type\": \"Property\",\n      \"value\": 28.0\n    },\n    \"@context\": [\n      \"https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context.jsonld\"\n    ]\n  }'\n\n# Thao t\u00e1c POST b\u1ecb c\u1ea5m - S\u1ebd tr\u1ea3 v\u1ec1 403 Forbidden\ncurl -X POST \"http://localhost:8080/ngsi-ld/v1/entities\" \\\n  -H \"Authorization: Bearer $JWT_TOKEN\" \\\n  -H \"Content-Type: application/ld+json\" \\\n  -d '...'\n# Tr\u1ea3 v\u1ec1: {\"error\":\"forbidden\",\"reason\":\"POST not allowed from this IP\"}\n</code></pre>"},{"location":"vi/#tao-jwt-tokens","title":"T\u1ea1o JWT Tokens","text":"<p>JWT tokens ph\u1ea3i \u0111\u01b0\u1ee3c k\u00fd b\u1eb1ng <code>JWT_SECRET</code> s\u1eed d\u1ee5ng thu\u1eadt to\u00e1n HS256. \u0110\u00e2y l\u00e0 v\u00ed d\u1ee5 s\u1eed d\u1ee5ng Python:</p> <pre><code>import jwt\nimport datetime\n\nsecret = \"your-secret-key-here\"  # Ph\u1ea3i kh\u1edbp v\u1edbi JWT_SECRET trong .env\n\npayload = {\n    \"sub\": \"client-001\",\n    \"iat\": datetime.datetime.utcnow(),\n    \"exp\": datetime.datetime.utcnow() + datetime.timedelta(hours=24)\n}\n\ntoken = jwt.encode(payload, secret, algorithm=\"HS256\")\nprint(token)\n</code></pre> <p>Ho\u1eb7c s\u1eed d\u1ee5ng Node.js:</p> <pre><code>const jwt = require('jsonwebtoken');\n\nconst secret = 'your-secret-key-here';  // Ph\u1ea3i kh\u1edbp v\u1edbi JWT_SECRET trong .env\n\nconst payload = {\n    sub: 'client-001',\n    iat: Math.floor(Date.now() / 1000),\n    exp: Math.floor(Date.now() / 1000) + (24 * 60 * 60)\n};\n\nconst token = jwt.sign(payload, secret, { algorithm: 'HS256' });\nconsole.log(token);\n</code></pre>"},{"location":"vi/#yeu-cau-ve-ngsi-ld-context","title":"Y\u00eau c\u1ea7u v\u1ec1 NGSI-LD Context","text":"<p>Khi s\u1eed d\u1ee5ng <code>application/ld+json</code> l\u00e0m <code>Content-Type</code>, t\u1ea5t c\u1ea3 c\u00e1c request NGSI-LD b\u1eaft bu\u1ed9c ph\u1ea3i c\u00f3 tr\u01b0\u1eddng <code>@context</code> trong JSON payload. \u0110\u00e2y l\u00e0 y\u00eau c\u1ea7u c\u1ee7a \u0111\u1eb7c t\u1ea3 NGSI-LD.</p>"},{"location":"vi/#loi-thuong-gap","title":"L\u1ed7i Th\u01b0\u1eddng g\u1eb7p","text":"<p>N\u1ebfu b\u1ea1n b\u1ecf qua <code>@context</code>, b\u1ea1n s\u1ebd nh\u1eadn \u0111\u01b0\u1ee3c l\u1ed7i:</p> <pre><code>{\n  \"type\": \"https://uri.etsi.org/ngsi-ld/errors/BadRequestData\",\n  \"title\": \"@context missing in JSON payload\",\n  \"detail\": \"For application/ld+json, the @context must be present in the JSON payload\"\n}\n</code></pre>"},{"location":"vi/#giai-phap","title":"Gi\u1ea3i ph\u00e1p","text":"<p>Lu\u00f4n bao g\u1ed3m tr\u01b0\u1eddng <code>@context</code> \u1edf c\u1ea5p cao nh\u1ea5t c\u1ee7a JSON payload:</p> <pre><code>{\n  \"@context\": [\n    \"https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context.jsonld\"\n  ],\n  \"temperature\": {\n    \"type\": \"Property\",\n    \"value\": 31.0\n  }\n}\n</code></pre>"},{"location":"vi/#giai-phap-thay-the-su-dung-applicationjson","title":"Gi\u1ea3i ph\u00e1p thay th\u1ebf: S\u1eed d\u1ee5ng application/json","text":"<p>B\u1ea1n c\u0169ng c\u00f3 th\u1ec3 s\u1eed d\u1ee5ng <code>application/json</code> l\u00e0m content type v\u00e0 cung c\u1ea5p context th\u00f4ng qua header <code>Link</code>:</p> <pre><code>curl -X PATCH \"http://localhost:8080/ngsi-ld/v1/entities/urn:ngsi-ld:WeatherObserved:001/attrs\" \\\n  -H \"Authorization: Bearer $JWT_TOKEN\" \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Link: &lt;https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context.jsonld&gt;; rel=\\\"http://www.w3.org/ns/json-ld#context\\\"; type=\\\"application/ld+json\\\"\" \\\n  -d '{\n    \"temperature\": {\n      \"type\": \"Property\",\n      \"value\": 31.0\n    }\n  }'\n</code></pre>"},{"location":"vi/#context-tuy-chinh","title":"Context T\u00f9y ch\u1ec9nh","text":"<p>\u0110\u1ed1i v\u1edbi c\u00e1c thu\u1eadt ng\u1eef \u0111\u1eb7c th\u00f9 theo domain, b\u1ea1n c\u00f3 th\u1ec3 bao g\u1ed3m c\u00e1c file context b\u1ed5 sung:</p> <pre><code>{\n  \"@context\": [\n    \"https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context.jsonld\",\n    \"https://yourdomain.com/contexts/weather-context.jsonld\"\n  ],\n  \"temperature\": {\n    \"type\": \"Property\",\n    \"value\": 31.0\n  }\n}\n</code></pre>"},{"location":"vi/#kien-truc","title":"Ki\u1ebfn tr\u00fac","text":""},{"location":"vi/#tong-quan-thanh-phan","title":"T\u1ed5ng quan Th\u00e0nh ph\u1ea7n","text":"<pre><code>            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n            \u2502   Client    \u2502\n            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                   \u2502\n                   \u2502 HTTP Request\n                   \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Gateway (OpenResty)             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502   Ki\u1ec3m so\u00e1t Truy c\u1eadp theo IP   \u2502     \u2502\n\u2502  \u2502   + X\u00e1c th\u1ef1c JWT (Lua)         \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502               \u25bc                         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502      Reverse Proxy             \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                   \u2502\n                   \u25bc\n            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n            \u2502  Orion-LD    \u2502\n            \u2502  (C\u1ed5ng 1026) \u2502\n            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                   \u2502\n                   \u25bc\n            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n            \u2502   MongoDB    \u2502\n            \u2502  Replica Set \u2502\n            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"vi/#luong-bao-mat","title":"Lu\u1ed3ng B\u1ea3o m\u1eadt","text":"<ol> <li>Nh\u1eadn Request: Client g\u1eedi HTTP request \u0111\u1ebfn gateway (c\u1ed5ng 8080)</li> <li>X\u00e1c minh IP: Gateway ki\u1ec3m tra xem request c\u00f3 xu\u1ea5t ph\u00e1t t\u1eeb <code>TRUSTED_IP</code> kh\u00f4ng</li> <li>N\u1ebfu c\u00f3: Cho ph\u00e9p t\u1ea5t c\u1ea3 thao t\u00e1c \u2192 Chuy\u1ec3n ti\u1ebfp \u0111\u1ebfn Orion-LD</li> <li>N\u1ebfu kh\u00f4ng: Ti\u1ebfp t\u1ee5c ki\u1ec3m tra ph\u01b0\u01a1ng th\u1ee9c v\u00e0 JWT</li> <li>X\u00e1c minh Ph\u01b0\u01a1ng th\u1ee9c: \u0110\u1ed1i v\u1edbi IP kh\u00f4ng \u0111\u00e1ng tin c\u1eady:</li> <li>POST, GET, DELETE \u2192 T\u1eeb ch\u1ed1i ngay l\u1eadp t\u1ee9c (403 Forbidden)</li> <li>PATCH, PUT \u2192 Y\u00eau c\u1ea7u x\u00e1c th\u1ef1c JWT</li> <li>X\u00e1c th\u1ef1c JWT: X\u00e1c th\u1ef1c JWT token trong header <code>Authorization: Bearer</code></li> <li>Token h\u1ee3p l\u1ec7 \u2192 Chuy\u1ec3n ti\u1ebfp request \u0111\u1ebfn Orion-LD</li> <li>Token kh\u00f4ng h\u1ee3p l\u1ec7/thi\u1ebfu \u2192 T\u1eeb ch\u1ed1i (401 Unauthorized)</li> <li>Proxy \u0111\u1ebfn Orion-LD: C\u00e1c request \u0111\u01b0\u1ee3c \u1ee7y quy\u1ec1n \u0111\u01b0\u1ee3c proxy \u0111\u1ebfn Orion-LD backend</li> <li>Ph\u1ea3n h\u1ed3i: Ph\u1ea3n h\u1ed3i t\u1eeb Orion-LD \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 cho client</li> </ol>"},{"location":"vi/#mo-hinh-bao-mat","title":"M\u00f4 h\u00ecnh B\u1ea3o m\u1eadt","text":""},{"location":"vi/#mo-hinh-tin-cay","title":"M\u00f4 h\u00ecnh Tin c\u1eady","text":"<p>Gateway tri\u1ec3n khai m\u00f4 h\u00ecnh b\u1ea3o m\u1eadt hai c\u1ea5p:</p> <ol> <li>Client \u0110\u00e1ng tin c\u1eady (IP trong Whitelist)</li> <li>\u0110\u01b0\u1ee3c x\u00e1c \u0111\u1ecbnh b\u1eb1ng \u0111\u1ecba ch\u1ec9 IP kh\u1edbp v\u1edbi <code>TRUSTED_IP</code></li> <li>Truy c\u1eadp \u0111\u1ea7y \u0111\u1ee7 v\u00e0o t\u1ea5t c\u1ea3 ph\u01b0\u01a1ng th\u1ee9c HTTP (GET, POST, PATCH, PUT, DELETE)</li> <li>Kh\u00f4ng y\u00eau c\u1ea7u x\u00e1c th\u1ef1c</li> <li> <p>D\u00e0nh cho c\u00e1c d\u1ecbch v\u1ee5 nh\u1eadp d\u1eef li\u1ec7u n\u1ed9i b\u1ed9</p> </li> <li> <p>Client Kh\u00f4ng \u0111\u00e1ng tin c\u1eady (B\u00ean ngo\u00e0i)</p> </li> <li>T\u1ea5t c\u1ea3 c\u00e1c \u0111\u1ecba ch\u1ec9 IP kh\u00e1c</li> <li>Ph\u1ea3i cung c\u1ea5p JWT h\u1ee3p l\u1ec7 cho c\u00e1c thao t\u00e1c PATCH v\u00e0 PUT</li> <li>C\u00e1c thao t\u00e1c POST, GET v\u00e0 DELETE b\u1ecb ch\u1eb7n</li> <li>D\u00e0nh cho ng\u01b0\u1eddi ti\u00eau d\u00f9ng API b\u00ean ngo\u00e0i v\u1edbi quy\u1ec1n ghi h\u1ea1n ch\u1ebf</li> </ol>"},{"location":"vi/#thuc-hanh-tot-nhat-ve-bao-mat","title":"Th\u1ef1c h\u00e0nh T\u1ed1t nh\u1ea5t v\u1ec1 B\u1ea3o m\u1eadt","text":"<ol> <li>Qu\u1ea3n l\u00fd JWT Secret</li> <li>S\u1eed d\u1ee5ng secret m\u1ea1nh, \u0111\u01b0\u1ee3c t\u1ea1o ng\u1eabu nhi\u00ean (t\u1ed1i thi\u1ec3u 32 k\u00fd t\u1ef1)</li> <li>L\u01b0u tr\u1eef <code>JWT_SECRET</code> trong bi\u1ebfn m\u00f4i tr\u01b0\u1eddng, kh\u00f4ng bao gi\u1edd trong code</li> <li>Xoay v\u00f2ng secrets \u0111\u1ecbnh k\u1ef3</li> <li> <p>S\u1eed d\u1ee5ng secrets kh\u00e1c nhau cho development v\u00e0 production</p> </li> <li> <p>B\u1ea3o m\u1eadt M\u1ea1ng</p> </li> <li>Ch\u1ea1y gateway ph\u00eda sau reverse proxy v\u1edbi SSL/TLS termination</li> <li>S\u1eed d\u1ee5ng firewall rules \u0111\u1ec3 h\u1ea1n ch\u1ebf truy c\u1eadp v\u00e0o c\u1ed5ng MongoDB v\u00e0 Orion-LD</li> <li>Ch\u1ec9 expose c\u1ed5ng 8080 (gateway) ra m\u1ea1ng b\u00ean ngo\u00e0i</li> <li> <p>C\u00e2n nh\u1eafc s\u1eed d\u1ee5ng Docker networks \u0111\u1ec3 c\u00f4 l\u1eadp c\u00e1c d\u1ecbch v\u1ee5</p> </li> <li> <p>Qu\u1ea3n l\u00fd Token</p> </li> <li>Tri\u1ec3n khai token expiration (khuy\u1ebfn ngh\u1ecb: 1-24 gi\u1edd)</li> <li>S\u1eed d\u1ee5ng token t\u1ed3n t\u1ea1i ng\u1eafn v\u00e0 tri\u1ec3n khai c\u01a1 ch\u1ebf refresh token</li> <li>Bao g\u1ed3m c\u00e1c claims ph\u00f9 h\u1ee3p (sub, iat, exp) trong JWT payload</li> <li> <p>Gi\u00e1m s\u00e1t v\u00e0 log c\u00e1c n\u1ed7 l\u1ef1c x\u00e1c th\u1ef1c</p> </li> <li> <p>Tri\u1ec3n khai Production</p> </li> <li>S\u1eed d\u1ee5ng HTTPS cho t\u1ea5t c\u1ea3 giao ti\u1ebfp b\u00ean ngo\u00e0i</li> <li>Tri\u1ec3n khai rate limiting \u1edf c\u1ea5p reverse proxy</li> <li>B\u1eadt audit logging cho y\u00eau c\u1ea7u tu\u00e2n th\u1ee7</li> <li>C\u1eadp nh\u1eadt b\u1ea3o m\u1eadt th\u01b0\u1eddng xuy\u00ean cho t\u1ea5t c\u1ea3 container images</li> </ol>"},{"location":"vi/#cau-hinh","title":"C\u1ea5u h\u00ecnh","text":""},{"location":"vi/#bien-moi-truong","title":"Bi\u1ebfn M\u00f4i tr\u01b0\u1eddng","text":"Bi\u1ebfn M\u00f4 t\u1ea3 V\u00ed d\u1ee5 B\u1eaft bu\u1ed9c <code>JWT_SECRET</code> Secret key \u0111\u1ec3 k\u00fd v\u00e0 x\u00e1c th\u1ef1c JWT <code>my-super-secret-key-2024</code> C\u00f3 <code>TRUSTED_IP</code> \u0110\u1ecba ch\u1ec9 IP \u0111\u01b0\u1ee3c ph\u00e9p truy c\u1eadp \u0111\u1ea7y \u0111\u1ee7 m\u00e0 kh\u00f4ng c\u1ea7n x\u00e1c th\u1ef1c <code>172.18.0.1</code> C\u00f3"},{"location":"vi/#tim-docker-network-ip-cua-ban","title":"T\u00ecm Docker Network IP c\u1ee7a b\u1ea1n","text":"<p>\u0110\u1ec3 x\u00e1c \u0111\u1ecbnh <code>TRUSTED_IP</code> ch\u00ednh x\u00e1c cho c\u00e1c client \u0111\u00e1ng tin c\u1eady d\u1ef1a tr\u00ean Docker:</p> <pre><code># T\u00ecm Docker bridge network IP c\u1ee7a b\u1ea1n\ndocker network inspect bridge | grep Gateway\n\n# Ho\u1eb7c ki\u1ec3m tra IP c\u1ee7a container client\ndocker inspect &lt;container-name&gt; | grep IPAddress\n</code></pre>"},{"location":"vi/#tuy-chinh-cau-hinh-nginx","title":"T\u00f9y ch\u1ec9nh C\u1ea5u h\u00ecnh Nginx","text":"<p>C\u1ea5u h\u00ecnh gateway n\u1eb1m \u1edf:</p> <ul> <li>C\u1ea5u h\u00ecnh ch\u00ednh: <code>docker/nginx/nginx.conf</code></li> <li>Quy t\u1eafc gateway: <code>docker/nginx/conf.d/gateway.conf</code></li> <li>X\u00e1c th\u1ef1c JWT: <code>docker/lualib/jwt_verify.lua</code></li> </ul> <p>\u0110\u1ec3 s\u1eeda \u0111\u1ed5i quy t\u1eafc truy c\u1eadp, ch\u1ec9nh s\u1eeda <code>gateway.conf</code> v\u00e0 rebuild gateway container:</p> <pre><code>docker compose -f docker/docker-compose.yml build gateway\ndocker compose -f docker/docker-compose.yml up -d gateway\n</code></pre>"},{"location":"vi/#cac-van-e-a-biet","title":"C\u00e1c V\u1ea5n \u0111\u1ec1 \u0110\u00e3 Bi\u1ebft","text":"<p>Gi\u1edbi h\u1ea1n Hi\u1ec7n t\u1ea1i:</p> <ul> <li>Ch\u1ec9 h\u1ed7 tr\u1ee3 m\u1ed9t IP \u0111\u00e1ng tin c\u1eady (kh\u00f4ng c\u00f3 whitelist nhi\u1ec1u IP)</li> <li>Kh\u00f4ng c\u00f3 h\u1ec7 th\u1ed1ng Role-Based Access Control (RBAC)</li> <li>Kh\u00f4ng c\u00f3 rate limiting ho\u1eb7c throttling</li> <li>Kh\u00f4ng c\u00f3 \u1ee7y quy\u1ec1n theo entity ho\u1eb7c attribute</li> <li>JWT tokens kh\u00f4ng c\u00f3 c\u01a1 ch\u1ebf thu h\u1ed3i t\u00edch h\u1ee3p</li> <li>Kh\u00f4ng c\u00f3 audit logging c\u1ee7a c\u00e1c n\u1ed7 l\u1ef1c truy c\u1eadp</li> </ul>"},{"location":"vi/#xu-ly-su-co","title":"X\u1eed l\u00fd S\u1ef1 c\u1ed1","text":""},{"location":"vi/#cac-van-e-thuong-gap","title":"C\u00e1c V\u1ea5n \u0111\u1ec1 Th\u01b0\u1eddng g\u1eb7p","text":""},{"location":"vi/#gateway-tra-ve-401-unauthorized","title":"Gateway tr\u1ea3 v\u1ec1 401 Unauthorized","text":"<ul> <li>X\u00e1c minh JWT token \u0111\u01b0\u1ee3c \u0111\u1ecbnh d\u1ea1ng \u0111\u00fang: <code>Authorization: Bearer &lt;token&gt;</code></li> <li>Ki\u1ec3m tra <code>JWT_SECRET</code> kh\u1edbp gi\u1eefa vi\u1ec7c t\u1ea1o token v\u00e0 gateway</li> <li>\u0110\u1ea3m b\u1ea3o JWT token ch\u01b0a h\u1ebft h\u1ea1n</li> <li>X\u00e1c th\u1ef1c thu\u1eadt to\u00e1n JWT l\u00e0 HS256</li> </ul>"},{"location":"vi/#gateway-tra-ve-403-forbidden","title":"Gateway tr\u1ea3 v\u1ec1 403 Forbidden","text":"<ul> <li>X\u00e1c minh client IP kh\u00f4ng c\u1ed1 g\u1eafng s\u1eed d\u1ee5ng c\u00e1c thao t\u00e1c POST, GET ho\u1eb7c DELETE</li> <li>N\u1ebfu s\u1eed d\u1ee5ng trusted IP, ki\u1ec3m tra <code>TRUSTED_IP</code> kh\u1edbp v\u1edbi IP th\u1ef1c t\u1ebf c\u1ee7a client</li> <li>Ki\u1ec3m tra gateway logs: <code>docker logs gateway</code></li> </ul>"},{"location":"vi/#khong-the-ket-noi-en-gateway","title":"Kh\u00f4ng th\u1ec3 k\u1ebft n\u1ed1i \u0111\u1ebfn gateway","text":"<pre><code># Ki\u1ec3m tra xem t\u1ea5t c\u1ea3 d\u1ecbch v\u1ee5 c\u00f3 \u0111ang ch\u1ea1y kh\u00f4ng\ndocker compose ps\n\n# Ki\u1ec3m tra gateway logs\ndocker logs gateway\n\n# Ki\u1ec3m tra xem c\u1ed5ng 8080 c\u00f3 th\u1ec3 truy c\u1eadp kh\u00f4ng\ncurl -v http://localhost:8080/version\n</code></pre>"},{"location":"vi/#van-e-mongodb-replica-set","title":"V\u1ea5n \u0111\u1ec1 MongoDB replica set","text":"<pre><code># X\u00e1c minh tr\u1ea1ng th\u00e1i replica set\ndocker exec -it mongo mongosh --eval \"rs.status()\"\n\n# Kh\u1edfi \u0111\u1ed9ng l\u1ea1i n\u1ebfu c\u1ea7n\n./start.sh\n</code></pre>"},{"location":"vi/#xem-logs-chi-tiet","title":"Xem logs chi ti\u1ebft","text":"<pre><code># Gateway logs (bao g\u1ed3m Lua debug output)\ndocker logs -f gateway\n\n# Orion-LD logs\ndocker logs -f orion-ld\n\n# MongoDB logs\ndocker logs -f mongo\n</code></pre>"},{"location":"vi/#ho-tro","title":"H\u1ed7 tr\u1ee3","text":"<p>N\u1ebfu b\u1ea1n c\u00f3 c\u00e2u h\u1ecfi, quan ng\u1ea1i, b\u00e1o c\u00e1o l\u1ed7i ho\u1eb7c y\u00eau c\u1ea7u t\u00ednh n\u0103ng, vui l\u00f2ng t\u1ea1o m\u1ed9t issue trong Issue Tracker c\u1ee7a repository n\u00e0y.</p> <p>\u0110\u1ed1i v\u1edbi c\u00e1c l\u1ed7 h\u1ed5ng b\u1ea3o m\u1eadt, vui l\u00f2ng xem SECURITY.md \u0111\u1ec3 bi\u1ebft quy tr\u00ecnh c\u00f4ng b\u1ed1 c\u00f3 tr\u00e1ch nhi\u1ec7m.</p>"},{"location":"vi/#ong-gop","title":"\u0110\u00f3ng g\u00f3p","text":"<p>Ph\u1ea7n n\u00e0y n\u00ean chi ti\u1ebft l\u00fd do m\u1ecdi ng\u01b0\u1eddi n\u00ean tham gia v\u00e0 m\u00f4 t\u1ea3 c\u00e1c l\u0129nh v\u1ef1c ch\u00ednh m\u00e0 b\u1ea1n hi\u1ec7n \u0111ang t\u1eadp trung v\u00e0o; v\u00ed d\u1ee5: c\u1ed1 g\u1eafng nh\u1eadn ph\u1ea3n h\u1ed3i v\u1ec1 t\u00ednh n\u0103ng, s\u1eeda m\u1ed9t s\u1ed1 l\u1ed7i nh\u1ea5t \u0111\u1ecbnh, x\u00e2y d\u1ef1ng c\u00e1c ph\u1ea7n quan tr\u1ecdng, v.v.</p> <p>H\u01b0\u1edbng d\u1eabn chung v\u1ec1 c\u00e1ch \u0111\u00f3ng g\u00f3p n\u00ean \u0111\u01b0\u1ee3c n\u00eau r\u00f5 v\u1edbi li\u00ean k\u1ebft \u0111\u1ebfn CONTRIBUTING.</p>"},{"location":"vi/#phat-trien","title":"Ph\u00e1t tri\u1ec3n","text":""},{"location":"vi/#cau-truc-du-an","title":"C\u1ea5u tr\u00fac D\u1ef1 \u00e1n","text":"<pre><code>Orion-Nginx/\n\u251c\u2500\u2500 Makefile                    # C\u00e1c l\u1ec7nh build v\u00e0 qu\u1ea3n l\u00fd\n\u251c\u2500\u2500 README.md                   # T\u00e0i li\u1ec7u ch\u00ednh\n\u251c\u2500\u2500 README.vi.md                # T\u00e0i li\u1ec7u ti\u1ebfng Vi\u1ec7t\n\u251c\u2500\u2500 LICENSE                     # Gi\u1ea5y ph\u00e9p d\u1ef1 \u00e1n\n\u251c\u2500\u2500 SECURITY.md                 # H\u01b0\u1edbng d\u1eabn b\u00e1o c\u00e1o b\u1ea3o m\u1eadt\n\u251c\u2500\u2500 CODE_OF_CONDUCT.md          # Quy t\u1eafc c\u1ed9ng \u0111\u1ed3ng\n\u251c\u2500\u2500 CONTRIBUTING.md             # H\u01b0\u1edbng d\u1eabn \u0111\u00f3ng g\u00f3p\n\u251c\u2500\u2500 GOVERNANCE.md               # Qu\u1ea3n tr\u1ecb d\u1ef1 \u00e1n\n\u251c\u2500\u2500 docker/                     # C\u00e1c file Docker\n\u2502   \u251c\u2500\u2500 docker-compose.yml      # Orchestration multi-container\n\u2502   \u251c\u2500\u2500 Dockerfile              # Gateway container build definition\n\u2502   \u251c\u2500\u2500 .env.example            # Template bi\u1ebfn m\u00f4i tr\u01b0\u1eddng\n\u2502   \u251c\u2500\u2500 lualib/\n\u2502   \u2502   \u2514\u2500\u2500 jwt_verify.lua      # Logic x\u00e1c th\u1ef1c JWT\n\u2502   \u2514\u2500\u2500 nginx/\n\u2502       \u251c\u2500\u2500 nginx.conf          # C\u1ea5u h\u00ecnh Nginx ch\u00ednh\n\u2502       \u2514\u2500\u2500 conf.d/\n\u2502           \u2514\u2500\u2500 gateway.conf    # Gateway routing v\u00e0 ki\u1ec3m so\u00e1t truy c\u1eadp\n\u251c\u2500\u2500 docs/                       # T\u00e0i li\u1ec7u MkDocs\n\u2502   \u251c\u2500\u2500 en/                     # T\u00e0i li\u1ec7u ti\u1ebfng Anh\n\u2502   \u2514\u2500\u2500 vi/                     # T\u00e0i li\u1ec7u ti\u1ebfng Vi\u1ec7t\n\u251c\u2500\u2500 mkdocs.yml                  # C\u1ea5u h\u00ecnh MkDocs\n\u2514\u2500\u2500 requirements.txt            # Dependencies Python cho docs\n</code></pre>"},{"location":"vi/#sua-oi-logic-kiem-soat-truy-cap","title":"S\u1eeda \u0111\u1ed5i Logic Ki\u1ec3m so\u00e1t Truy c\u1eadp","text":"<p>Logic ki\u1ec3m so\u00e1t truy c\u1eadp ch\u00ednh n\u1eb1m trong <code>docker/nginx/conf.d/gateway.conf</code>:</p> <pre><code>-- V\u00ed d\u1ee5: Th\u00eam ph\u01b0\u01a1ng th\u1ee9c \u0111\u01b0\u1ee3c ph\u00e9p m\u1edbi cho IP kh\u00f4ng \u0111\u00e1ng tin c\u1eady\nif method == \"POST\" or method == \"GET\" or method == \"DELETE\" then\n    -- S\u1eeda \u0111\u1ed5i \u0111i\u1ec1u ki\u1ec7n n\u00e0y \u0111\u1ec3 thay \u0111\u1ed5i c\u00e1c ph\u01b0\u01a1ng th\u1ee9c b\u1ecb ch\u1eb7n\n    ngx.status = ngx.HTTP_FORBIDDEN\n    -- ...\nend\n</code></pre>"},{"location":"vi/#build-custom-gateway-image","title":"Build Custom Gateway Image","text":"<pre><code>cd docker\n\n# Build gateway v\u1edbi custom tag\ndocker compose build gateway --build-arg CUSTOM_ARG=value\n\n# Test thay \u0111\u1ed5i\ndocker compose up -d gateway\n\n# Xem logs\ndocker logs -f gateway\n</code></pre>"},{"location":"vi/#chay-tests","title":"Ch\u1ea1y Tests","text":"<pre><code># Test x\u00e1c th\u1ef1c JWT\ndocker exec -it gateway /usr/local/openresty/bin/resty /usr/local/openresty/site/lualib/jwt_verify.lua\n\n# Test v\u1edbi curl\n./test-endpoints.sh  # T\u1ea1o test script d\u1ef1a tr\u00ean c\u00e1c v\u00ed d\u1ee5 S\u1eed d\u1ee5ng\n</code></pre>"},{"location":"vi/#them-dependencies-moi","title":"Th\u00eam Dependencies M\u1edbi","text":"<p>\u0110\u1ec3 th\u00eam th\u01b0 vi\u1ec7n Lua m\u1edbi:</p> <ol> <li>C\u1eadp nh\u1eadt <code>docker/Dockerfile</code>:</li> </ol> <pre><code>RUN /usr/local/openresty/bin/opm get &lt;package-name&gt;\n</code></pre> <ol> <li>Rebuild container:</li> </ol> <pre><code>docker compose -f docker/docker-compose.yml build gateway\n</code></pre> <p>\u0110\u1ec3 bi\u1ebft h\u01b0\u1edbng d\u1eabn ph\u00e1t tri\u1ec3n chi ti\u1ebft h\u01a1n, xem CONTRIBUTING.md.</p>"},{"location":"vi/#giay-phep","title":"Gi\u1ea5y ph\u00e9p","text":"<p>D\u1ef1 \u00e1n n\u00e0y \u0111\u01b0\u1ee3c c\u1ea5p ph\u00e9p theo Gi\u1ea5y ph\u00e9p Apache License 2.0 - xem file LICENSE \u0111\u1ec3 bi\u1ebft chi ti\u1ebft.</p>"},{"location":"vi/#nguoi-duy-tri","title":"Ng\u01b0\u1eddi duy tr\u00ec","text":"<p>T\u00ean v\u00e0 git-account cho ng\u01b0\u1eddi duy tr\u00ec ch\u00ednh:</p> <p>V\u00ed d\u1ee5: Ng\u01b0\u1eddi_duy_tr\u00ec</p>"},{"location":"vi/#tin-chi-va-tham-khao","title":"T\u00edn ch\u1ec9 v\u00e0 Tham kh\u1ea3o","text":""},{"location":"vi/#du-an-lien-quan","title":"D\u1ef1 \u00e1n Li\u00ean quan","text":"<ul> <li>FIWARE Orion-LD - NGSI-LD Context Broker</li> <li>OpenResty - N\u1ec1n t\u1ea3ng web hi\u1ec7u n\u0103ng cao d\u1ef1a tr\u00ean Nginx v\u00e0 Lua</li> <li>lua-resty-jwt - Th\u01b0 vi\u1ec7n x\u00e1c th\u1ef1c JWT cho OpenResty</li> </ul>"},{"location":"vi/#tieu-chuan-va-ac-ta","title":"Ti\u00eau chu\u1ea9n v\u00e0 \u0110\u1eb7c t\u1ea3","text":"<ul> <li>NGSI-LD API - ETSI GS CIM 009 V1.8.1</li> <li>JSON Web Token (JWT) - RFC 7519</li> <li>T\u00e0i li\u1ec7u FIWARE</li> </ul>"},{"location":"vi/#loi-cam-on","title":"L\u1eddi c\u1ea3m \u01a1n","text":"<p>Xin g\u1eedi l\u1eddi c\u1ea3m \u01a1n \u0111\u1eb7c bi\u1ec7t \u0111\u1ebfn:</p> <ul> <li>FIWARE Foundation cho Orion-LD context broker</li> <li>C\u1ed9ng \u0111\u1ed3ng OpenResty cho n\u1ec1n t\u1ea3ng web m\u1ea1nh m\u1ebd</li> <li>IEEE Open Source Maintainers Manual</li> </ul>"},{"location":"vi/Open_Source_Checklist/","title":"Danh s\u00e1ch Ki\u1ec3m tra M\u00e3 ngu\u1ed3n M\u1edf - Orion-LD API Gateway","text":""},{"location":"vi/Open_Source_Checklist/#gioi-thieu","title":"Gi\u1edbi thi\u1ec7u","text":"<p>Danh s\u00e1ch ki\u1ec3m tra n\u00e0y \u0111\u1ea3m b\u1ea3o d\u1ef1 \u00e1n Orion-LD API Gateway tu\u00e2n theo c\u00e1c th\u1ef1c h\u00e0nh t\u1ed1t nh\u1ea5t v\u1ec1 s\u1ee9c kh\u1ecfe, ph\u00e1t tri\u1ec3n v\u00e0 b\u1ea3o m\u1eadt. N\u00f3 ph\u1ee5c v\u1ee5 nh\u01b0 m\u1ed9t t\u00e0i li\u1ec7u s\u1ed1ng \u0111\u1ec3 theo d\u00f5i ti\u1ebfn \u0111\u1ed9 c\u1ee7a ch\u00fang t\u00f4i v\u00e0 duy tr\u00ec c\u00e1c ti\u00eau chu\u1ea9n cao cho c\u1ed9ng \u0111\u1ed3ng m\u00e3 ngu\u1ed3n m\u1edf.</p> <p>S\u1eed d\u1ee5ng danh s\u00e1ch ki\u1ec3m tra n\u00e0y l\u00e0m \u0111i\u1ec3m kh\u1edfi \u0111\u1ea7u th\u1ea3o lu\u1eadn cho nh\u00f3m v\u00e0 n\u1ec1n t\u1ea3ng cho c\u1ea3i ti\u1ebfn li\u00ean t\u1ee5c.</p>"},{"location":"vi/Open_Source_Checklist/#trang-thai-du-an","title":"Tr\u1ea1ng th\u00e1i D\u1ef1 \u00e1n","text":"<p>Tr\u1ea1ng th\u00e1i tu\u00e2n th\u1ee7 hi\u1ec7n t\u1ea1i cho Orion-LD API Gateway:</p> <ul> <li>\u2705 T\u00e0i li\u1ec7u ho\u00e0n ch\u1ec9nh (README, Ki\u1ebfn tr\u00fac, S\u1eed d\u1ee5ng)</li> <li>\u2705 Tri\u1ec3n khai d\u1ef1a tr\u00ean Docker \u0111\u00e3 s\u1eb5n s\u00e0ng</li> <li>\u2705 C\u00e1c t\u00ednh n\u0103ng b\u1ea3o m\u1eadt \u0111\u00e3 tri\u1ec3n khai (JWT, IP whitelisting)</li> <li>\u2705 GitHub Actions CI/CD \u0111\u00e3 c\u1ea5u h\u00ecnh</li> <li>\u2705 Trang t\u00e0i li\u1ec7u MkDocs</li> <li>\ud83d\udd04 Gi\u00e1m s\u00e1t OpenSSF Scorecard \u0111\u00e3 b\u1eadt</li> <li>\ud83d\udd04 Qu\u00e9t b\u1ea3o m\u1eadt container \u0111ang ho\u1ea1t \u0111\u1ed9ng</li> </ul>"},{"location":"vi/Open_Source_Checklist/#luu-tru-va-ngung-su-dung-du-an","title":"L\u01b0u tr\u1eef v\u00e0 Ng\u1eebng s\u1eed d\u1ee5ng D\u1ef1 \u00e1n","text":"<ul> <li>N\u00ean s\u1eed d\u1ee5ng ch\u1ee9c n\u0103ng \"Archival\" c\u1ee7a n\u1ec1n t\u1ea3ng. B\u1eb1ng c\u00e1ch n\u00e0y, n\u00f3 tr\u1edf th\u00e0nh ch\u1ec9 \u0111\u1ecdc, bao g\u1ed3m c\u1ea3 b\u1ea3ng issues, v\u00e0 \u0111\u01b0\u1ee3c \u0111\u00e1nh d\u1ea5u l\u00e0 kh\u00f4ng ho\u1ea1t \u0111\u1ed9ng.</li> <li>N\u00ean ghi r\u00f5 trong README r\u1eb1ng d\u1ef1 \u00e1n kh\u00f4ng c\u00f2n \u0111\u01b0\u1ee3c duy tr\u00ec.</li> <li>N\u00ean \u0111\u01b0\u1ee3c l\u01b0u tr\u1eef n\u1ebfu kh\u00f4ng c\u00f3 ng\u01b0\u1eddi duy tr\u00ec.</li> </ul>"},{"location":"vi/Open_Source_Checklist/#tai-lieu","title":"T\u00e0i li\u1ec7u","text":""},{"location":"vi/Open_Source_Checklist/#file-suc-khoe-cong-ong","title":"File S\u1ee9c kh\u1ecfe C\u1ed9ng \u0111\u1ed3ng \u2705","text":"<p>D\u1ef1 \u00e1n bao g\u1ed3m t\u1ea5t c\u1ea3 c\u00e1c File S\u1ee9c kh\u1ecfe C\u1ed9ng \u0111\u1ed3ng ti\u00eau chu\u1ea9n:</p> <ul> <li>\u2705 README.md - T\u00e0i li\u1ec7u d\u1ef1 \u00e1n to\u00e0n di\u1ec7n</li> <li>\u2705 CONTRIBUTING.md - H\u01b0\u1edbng d\u1eabn \u0111\u00f3ng g\u00f3p</li> <li>\u2705 CODE_OF_CONDUCT.md - Ti\u00eau chu\u1ea9n c\u1ed9ng \u0111\u1ed3ng</li> <li>\u2705 SECURITY.md - Ch\u00ednh s\u00e1ch b\u1ea3o m\u1eadt</li> <li>\u2705 CHANGELOG.md - L\u1ecbch s\u1eed phi\u00ean b\u1ea3n</li> <li>\u2705 GOVERNANCE.md - Qu\u1ea3n tr\u1ecb d\u1ef1 \u00e1n</li> </ul>"},{"location":"vi/Open_Source_Checklist/#tai-lieu-ky-thuat","title":"T\u00e0i li\u1ec7u K\u1ef9 thu\u1eadt \u2705","text":"<ul> <li>\u2705 C\u00e0i \u0111\u1eb7t v\u00e0 Y\u00eau c\u1ea7u - H\u01b0\u1edbng d\u1eabn c\u00e0i \u0111\u1eb7t Docker</li> <li>\u2705 H\u01b0\u1edbng d\u1eabn B\u1eaft \u0111\u1ea7u Nhanh - Quy tr\u00ecnh tri\u1ec3n khai 3 b\u01b0\u1edbc</li> <li>\u2705 V\u00ed d\u1ee5 S\u1eed d\u1ee5ng - C\u1ea3 k\u1ecbch b\u1ea3n client \u0111\u00e1ng tin c\u1eady v\u00e0 kh\u00f4ng \u0111\u00e1ng tin c\u1eady</li> <li>\u2705 S\u01a1 \u0111\u1ed3 Ki\u1ebfn tr\u00fac - Lu\u1ed3ng th\u00e0nh ph\u1ea7n tr\u1ef1c quan</li> <li>\u2705 M\u00f4 h\u00ecnh B\u1ea3o m\u1eadt - Gi\u1ea3i th\u00edch ki\u1ec3m so\u00e1t truy c\u1eadp hai c\u1ea5p</li> <li>\u2705 H\u01b0\u1edbng d\u1eabn C\u1ea5u h\u00ecnh - Bi\u1ebfn m\u00f4i tr\u01b0\u1eddng v\u00e0 t\u00f9y ch\u1ec9nh</li> <li>\u2705 X\u1eed l\u00fd S\u1ef1 c\u1ed1 - C\u00e1c v\u1ea5n \u0111\u1ec1 th\u01b0\u1eddng g\u1eb7p v\u00e0 gi\u1ea3i ph\u00e1p</li> </ul>"},{"location":"vi/Open_Source_Checklist/#tai-lieu-api","title":"T\u00e0i li\u1ec7u API \ud83d\udd04","text":"<ul> <li>\ud83d\udd04 OpenAPI/Swagger specification</li> <li>\ud83d\udd04 API endpoint documentation</li> <li>\ud83d\udd04 Request/Response examples</li> <li>\ud83d\udd04 Authentication flow documentation</li> </ul> <p>Khuy\u1ebfn ngh\u1ecb: B\u1ed5 sung \u0111\u1eb7c t\u1ea3 OpenAPI cho c\u00e1c endpoint NGSI-LD \u0111\u01b0\u1ee3c proxy.</p>"},{"location":"vi/Open_Source_Checklist/#phat-trien","title":"Ph\u00e1t tri\u1ec3n","text":""},{"location":"vi/Open_Source_Checklist/#kiem-soat-phien-ban","title":"Ki\u1ec3m so\u00e1t Phi\u00ean b\u1ea3n \u2705","text":"<ul> <li>\u2705 S\u1eed d\u1ee5ng Git cho ki\u1ec3m so\u00e1t phi\u00ean b\u1ea3n</li> <li>\u2705 Repository \u0111\u01b0\u1ee3c l\u01b0u tr\u1eef tr\u00ean GitHub</li> <li>\u2705 S\u1eed d\u1ee5ng semantic versioning (SemVer)</li> <li>\u2705 C\u00e1c tag ph\u00e1t h\u00e0nh \u0111\u01b0\u1ee3c t\u1ea1o</li> </ul>"},{"location":"vi/Open_Source_Checklist/#quy-trinh-phat-trien","title":"Quy tr\u00ecnh Ph\u00e1t tri\u1ec3n \u2705","text":"<ul> <li>\u2705 Pull request workflow</li> <li>\u2705 Code review process</li> <li>\u2705 Branch protection rules</li> <li>\u2705 Automated CI/CD pipeline</li> </ul>"},{"location":"vi/Open_Source_Checklist/#quan-ly-issues","title":"Qu\u1ea3n l\u00fd Issues \u2705","text":"<ul> <li>\u2705 Issue templates c\u00f3 s\u1eb5n</li> <li>\u2705 Bug report template</li> <li>\u2705 Feature request template</li> <li>\u2705 Labels \u0111\u1ec3 t\u1ed5 ch\u1ee9c</li> <li>\u2705 Milestone tracking</li> </ul>"},{"location":"vi/Open_Source_Checklist/#bao-mat","title":"B\u1ea3o m\u1eadt","text":""},{"location":"vi/Open_Source_Checklist/#chinh-sach-bao-mat","title":"Ch\u00ednh s\u00e1ch B\u1ea3o m\u1eadt \u2705","text":"<ul> <li>\u2705 SECURITY.md v\u1edbi quy tr\u00ecnh b\u00e1o c\u00e1o l\u1ed7 h\u1ed5ng</li> <li>\u2705 Email li\u00ean h\u1ec7 b\u1ea3o m\u1eadt</li> <li>\u2705 Ch\u00ednh s\u00e1ch ti\u1ebft l\u1ed9 c\u00f3 tr\u00e1ch nhi\u1ec7m</li> <li>\u2705 Th\u1eddi gian ph\u1ea3n h\u1ed3i b\u1ea3o m\u1eadt</li> </ul>"},{"location":"vi/Open_Source_Checklist/#thuc-hanh-bao-mat","title":"Th\u1ef1c h\u00e0nh B\u1ea3o m\u1eadt \u2705","text":"<ul> <li>\u2705 X\u00e1c th\u1ef1c JWT \u0111\u01b0\u1ee3c tri\u1ec3n khai</li> <li>\u2705 Ki\u1ec3m so\u00e1t truy c\u1eadp d\u1ef1a tr\u00ean IP</li> <li>\u2705 Kh\u00f4ng c\u00f3 credential \u0111\u01b0\u1ee3c commit</li> <li>\u2705 Bi\u1ebfn m\u00f4i tr\u01b0\u1eddng cho c\u1ea5u h\u00ecnh nh\u1ea1y c\u1ea3m</li> <li>\u2705 Container image scanning (Trivy)</li> <li>\u2705 Dependency scanning</li> </ul>"},{"location":"vi/Open_Source_Checklist/#quan-ly-phu-thuoc","title":"Qu\u1ea3n l\u00fd Ph\u1ee5 thu\u1ed9c \ud83d\udd04","text":"<ul> <li>\u2705 Dependabot alerts enabled</li> <li>\ud83d\udd04 Regular dependency updates</li> <li>\ud83d\udd04 Security patch schedule</li> <li>\u2705 Pinned container base images</li> </ul> <p>Khuy\u1ebfn ngh\u1ecb: Thi\u1ebft l\u1eadp l\u1ecbch tr\u00ecnh c\u1eadp nh\u1eadt ph\u1ee5 thu\u1ed9c th\u01b0\u1eddng xuy\u00ean (h\u00e0ng th\u00e1ng).</p>"},{"location":"vi/Open_Source_Checklist/#kiem-thu","title":"Ki\u1ec3m th\u1eed","text":""},{"location":"vi/Open_Source_Checklist/#o-bao-phu-kiem-thu","title":"\u0110\u1ed9 bao ph\u1ee7 Ki\u1ec3m th\u1eed \ud83d\udd04","text":"<ul> <li>\ud83d\udd04 Unit tests</li> <li>\ud83d\udd04 Integration tests</li> <li>\u2705 Manual testing procedures</li> <li>\ud83d\udd04 Test coverage reporting</li> </ul> <p>Khuy\u1ebfn ngh\u1ecb: Th\u00eam automated tests cho logic JWT verification v\u00e0 access control.</p>"},{"location":"vi/Open_Source_Checklist/#continuous-integration","title":"Continuous Integration \u2705","text":"<ul> <li>\u2705 GitHub Actions workflows</li> <li>\u2705 Automated builds</li> <li>\u2705 Linting v\u00e0 formatting checks</li> <li>\u2705 Security scanning</li> <li>\u2705 Container image building</li> </ul>"},{"location":"vi/Open_Source_Checklist/#cong-ong","title":"C\u1ed9ng \u0111\u1ed3ng","text":""},{"location":"vi/Open_Source_Checklist/#tuong-tac-cong-ong","title":"T\u01b0\u01a1ng t\u00e1c C\u1ed9ng \u0111\u1ed3ng \u2705","text":"<ul> <li>\u2705 Clear contribution guidelines</li> <li>\u2705 Code of Conduct</li> <li>\u2705 Issue v\u00e0 PR templates</li> <li>\u2705 Responsive maintainers</li> </ul>"},{"location":"vi/Open_Source_Checklist/#ho-tro-nguoi-dung","title":"H\u1ed7 tr\u1ee3 Ng\u01b0\u1eddi d\u00f9ng \ud83d\udd04","text":"<ul> <li>\u2705 Troubleshooting guide</li> <li>\u2705 Documentation site</li> <li>\ud83d\udd04 FAQ section</li> <li>\ud83d\udd04 Discussion forum/chat</li> </ul> <p>Khuy\u1ebfn ngh\u1ecb: C\u00e2n nh\u1eafc th\u00eam GitHub Discussions ho\u1eb7c k\u00eanh chat (Discord/Slack).</p>"},{"location":"vi/Open_Source_Checklist/#giay-phep","title":"Gi\u1ea5y ph\u00e9p","text":""},{"location":"vi/Open_Source_Checklist/#tuan-thu-giay-phep","title":"Tu\u00e2n th\u1ee7 Gi\u1ea5y ph\u00e9p \u2705","text":"<ul> <li>\u2705 LICENSE file trong repository</li> <li>\u2705 Creative Commons Attribution 4.0 International</li> <li>\u2705 License headers trong c\u00e1c file ch\u00ednh</li> <li>\u2705 Third-party license compliance</li> </ul>"},{"location":"vi/Open_Source_Checklist/#quyen-so-huu-tri-tue","title":"Quy\u1ec1n S\u1edf h\u1eefu Tr\u00ed tu\u1ec7 \u2705","text":"<ul> <li>\u2705 Clear ownership v\u00e0 copyright</li> <li>\u2705 Contributor License Agreement (CLA) n\u1ebfu c\u1ea7n</li> <li>\u2705 Attribution cho dependencies</li> </ul>"},{"location":"vi/Open_Source_Checklist/#co-so-ha-tang","title":"C\u01a1 s\u1edf H\u1ea1 t\u1ea7ng","text":""},{"location":"vi/Open_Source_Checklist/#trien-khai","title":"Tri\u1ec3n khai \u2705","text":"<ul> <li>\u2705 Docker Compose configuration</li> <li>\u2705 Environment variable management</li> <li>\u2705 Port configuration</li> <li>\u2705 Volume management</li> <li>\u2705 Network isolation</li> </ul>"},{"location":"vi/Open_Source_Checklist/#monitoring-va-logging","title":"Monitoring v\u00e0 Logging \ud83d\udd04","text":"<ul> <li>\u2705 Container logs accessible</li> <li>\ud83d\udd04 Health check endpoints</li> <li>\ud83d\udd04 Metrics collection</li> <li>\ud83d\udd04 Error tracking</li> <li>\ud83d\udd04 Performance monitoring</li> </ul> <p>Khuy\u1ebfn ngh\u1ecb: Th\u00eam health check endpoints v\u00e0 c\u00e2n nh\u1eafc Prometheus metrics.</p>"},{"location":"vi/Open_Source_Checklist/#chat-luong-code","title":"Ch\u1ea5t l\u01b0\u1ee3ng Code","text":""},{"location":"vi/Open_Source_Checklist/#code-style","title":"Code Style \u2705","text":"<ul> <li>\u2705 Consistent formatting (EditorConfig)</li> <li>\u2705 Linting rules (MegaLinter)</li> <li>\u2705 Style guide documented</li> <li>\u2705 Automated formatting checks</li> </ul>"},{"location":"vi/Open_Source_Checklist/#code-review","title":"Code Review \ud83d\udd04","text":"<ul> <li>\u2705 Pull request required</li> <li>\u2705 Approval workflow</li> <li>\ud83d\udd04 Automated code review tools</li> <li>\u2705 Review checklist</li> </ul>"},{"location":"vi/Open_Source_Checklist/#documentation-code","title":"Documentation Code \u2705","text":"<ul> <li>\u2705 Inline comments cho logic ph\u1ee9c t\u1ea1p</li> <li>\u2705 Function/method documentation</li> <li>\u2705 Configuration examples</li> <li>\u2705 Architecture documentation</li> </ul>"},{"location":"vi/Open_Source_Checklist/#release-management","title":"Release Management","text":""},{"location":"vi/Open_Source_Checklist/#release-process","title":"Release Process \ud83d\udd04","text":"<ul> <li>\u2705 Version tagging</li> <li>\u2705 CHANGELOG updates</li> <li>\ud83d\udd04 Release notes</li> <li>\ud83d\udd04 Binary/artifact publishing</li> <li>\ud83d\udd04 Docker image releases</li> </ul> <p>Khuy\u1ebfn ngh\u1ecb: T\u1ea1o GitHub Releases v\u1edbi release notes v\u00e0 publish images l\u00ean Docker Hub.</p>"},{"location":"vi/Open_Source_Checklist/#versioning","title":"Versioning \u2705","text":"<ul> <li>\u2705 Semantic versioning (SemVer)</li> <li>\u2705 Version in CHANGELOG</li> <li>\u2705 Git tags cho releases</li> <li>\ud83d\udd04 Version in application code</li> </ul>"},{"location":"vi/Open_Source_Checklist/#accessibility","title":"Accessibility","text":""},{"location":"vi/Open_Source_Checklist/#documentation-accessibility","title":"Documentation Accessibility \u2705","text":"<ul> <li>\u2705 Clear, concise writing</li> <li>\u2705 Code examples</li> <li>\u2705 Visual diagrams</li> <li>\u2705 Multi-language support (English, Vietnamese)</li> </ul>"},{"location":"vi/Open_Source_Checklist/#project-accessibility","title":"Project Accessibility \ud83d\udd04","text":"<ul> <li>\u2705 Easy setup process</li> <li>\u2705 Docker-based deployment</li> <li>\ud83d\udd04 Multiple installation methods</li> <li>\u2705 Clear error messages</li> </ul>"},{"location":"vi/Open_Source_Checklist/#metrics-va-analytics","title":"Metrics v\u00e0 Analytics","text":""},{"location":"vi/Open_Source_Checklist/#project-metrics","title":"Project Metrics \ud83d\udd04","text":"<ul> <li>\u2705 GitHub Stars tracking</li> <li>\u2705 Fork count</li> <li>\u2705 Issue resolution time</li> <li>\ud83d\udd04 Download statistics</li> <li>\ud83d\udd04 User analytics</li> </ul>"},{"location":"vi/Open_Source_Checklist/#health-metrics","title":"Health Metrics \u2705","text":"<ul> <li>\u2705 OpenSSF Scorecard</li> <li>\u2705 Dependency freshness</li> <li>\u2705 Security vulnerabilities</li> <li>\u2705 CI/CD success rate</li> </ul>"},{"location":"vi/Open_Source_Checklist/#tuan-thu","title":"Tu\u00e2n th\u1ee7","text":""},{"location":"vi/Open_Source_Checklist/#standards-compliance","title":"Standards Compliance \u2705","text":"<ul> <li>\u2705 NGSI-LD API specification</li> <li>\u2705 JWT RFC 7519</li> <li>\u2705 Docker best practices</li> <li>\u2705 Nginx security guidelines</li> </ul>"},{"location":"vi/Open_Source_Checklist/#privacy","title":"Privacy \ud83d\udd04","text":"<ul> <li>\ud83d\udd04 Privacy policy (n\u1ebfu thu th\u1eadp d\u1eef li\u1ec7u)</li> <li>\u2705 No personal data in logs</li> <li>\u2705 Secure credential handling</li> <li>\u2705 Data encryption (HTTPS recommended)</li> </ul>"},{"location":"vi/Open_Source_Checklist/#roadmap","title":"Roadmap","text":""},{"location":"vi/Open_Source_Checklist/#planned-improvements","title":"Planned Improvements \ud83d\udd04","text":"<p>C\u00e1c c\u1ea3i ti\u1ebfn \u0111\u01b0\u1ee3c l\u00ean k\u1ebf ho\u1ea1ch:</p> <ol> <li>Testing \ud83d\udd04</li> <li>Add automated test suite</li> <li>Increase test coverage</li> <li> <p>Performance testing</p> </li> <li> <p>Documentation \ud83d\udd04</p> </li> <li>OpenAPI specification</li> <li>API documentation</li> <li> <p>Video tutorials</p> </li> <li> <p>Features \ud83d\udd04</p> </li> <li>Multiple IP whitelist support</li> <li>Role-Based Access Control (RBAC)</li> <li>Rate limiting</li> <li> <p>Audit logging</p> </li> <li> <p>Monitoring \ud83d\udd04</p> </li> <li>Health check endpoints</li> <li>Prometheus metrics</li> <li> <p>Grafana dashboards</p> </li> <li> <p>Deployment \ud83d\udd04</p> </li> <li>Kubernetes manifests</li> <li>Helm charts</li> <li>Cloud deployment guides</li> </ol>"},{"location":"vi/Open_Source_Checklist/#tai-nguyen-bo-sung","title":"T\u00e0i nguy\u00ean B\u1ed5 sung","text":""},{"location":"vi/Open_Source_Checklist/#tham-khao","title":"Tham kh\u1ea3o","text":"<ul> <li>OpenSSF Best Practices Badge</li> <li>GitHub Community Health Files</li> <li>Semantic Versioning</li> <li>Keep a Changelog</li> <li>Choose a License</li> </ul>"},{"location":"vi/Open_Source_Checklist/#cong-cu","title":"C\u00f4ng c\u1ee5","text":"<ul> <li>MegaLinter: T\u1ed5ng h\u1ee3p linting v\u00e0 quality checks</li> <li>Dependabot: Automated dependency updates</li> <li>Trivy: Container v\u00e0 dependency scanning</li> <li>GitHub Actions: CI/CD automation</li> <li>MkDocs Material: Documentation site generation</li> </ul>"},{"location":"vi/Open_Source_Checklist/#tong-ket","title":"T\u1ed5ng k\u1ebft","text":""},{"location":"vi/Open_Source_Checklist/#iem-manh","title":"\u0110i\u1ec3m m\u1ea1nh","text":"<ul> <li>\u2705 Comprehensive documentation</li> <li>\u2705 Strong security implementation</li> <li>\u2705 Good CI/CD practices</li> <li>\u2705 Active maintenance</li> <li>\u2705 Multi-language support</li> </ul>"},{"location":"vi/Open_Source_Checklist/#khu-vuc-cai-thien","title":"Khu v\u1ef1c C\u1ea3i thi\u1ec7n","text":"<ul> <li>\ud83d\udd04 Automated testing</li> <li>\ud83d\udd04 API documentation</li> <li>\ud83d\udd04 Health monitoring</li> <li>\ud83d\udd04 Release automation</li> <li>\ud83d\udd04 Community engagement tools</li> </ul>"},{"location":"vi/Open_Source_Checklist/#buoc-tiep-theo","title":"B\u01b0\u1edbc ti\u1ebfp theo","text":"<ol> <li>Implement automated test suite</li> <li>Add OpenAPI specification</li> <li>Set up health check endpoints</li> <li>Create release automation</li> <li>Establish regular maintenance schedule</li> </ol> <p>C\u1eadp nh\u1eadt l\u1ea7n cu\u1ed1i: December 2024 Ng\u01b0\u1eddi duy tr\u00ec: CTU-SematX Team Status: \ud83d\udfe2 Active Development</p>"}]}